<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Datil API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="../javascripts/all.js"></script>
  </head>

  <body class="en en_index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;csharp&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="csharp">C#</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign up for an API key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Integrate e-billing into your internet apps. The Datil API allows you to issue electronic documents in Ecuador including: invoices, withholdings, credit notes, debit notes and waybills.</p>

<p>The API is designed around <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a>, leveraging standard HTTP verbs and response codes.</p>

<p>Each section of this documentation describes e-billing capabilities available as a resource that you can access via HTTP from any programming language.</p>

<p>Issuing electronic documents (e-documents) is an asynchronous process. This means that although the API responds to your requests immediately, it will execute multiple steps in the background to have your e-document authorized. This process may take up to 5 seconds. Once completed, you can query the status of the document or receive a notification with the result.</p>

<h2 id="issuance-process">Issuance process</h2>

<p>The following steps are executed by Datil:</p>

<ol>
<li><strong>Creation</strong>: The e-document is persisted for future reference.</li>
<li><strong>Signature</strong>: Using the merchant digital certificate, the e-document is electronically signed in compliance with the <a href="https://www.w3.org/TR/XAdES/">XAdES</a> standard and each tax authority data formats.</li>
<li><strong>Sending</strong>: The e-document is submitted to the tax authority web service for authorization.</li>
<li><strong>Authorization Query</strong>: Datil queries the tax authority web service for an authorization response.</li>
<li><strong>Customer notification</strong>: An email notification is sent to the e-document recipient. If the authorization fails, the issuer receives an email brief of the errors and the recipient is not notified.</li>
</ol>

<aside class="notice">
<strong>Remember:</strong> This whole process is executed in the background by Datil after each API request.
</aside>

<h2 id="content-type">Content type</h2>

<p>All operations receive and return data in <a href="http://www.json.org/">JSON</a> format. You must specify the content type when sending POST requests:</p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<h1 id="authentication">Authentication</h1>

<p>To get an API key, sign in to your account at
<a href="https://app.datil.co">app.datil.co</a> and look for &ldquo;API key&rdquo; in &ldquo;<em>Configuración</em>&rdquo;.</p>

<p><img src="https://s3-us-west-2.amazonaws.com/static-files/datil-py-blurred-api-key.png"></p>

<p>Include your API key as an HTTP header in all your requests:</p>

<p><code class="prettyprint">X-Key: &lt;your-api-key&gt;</code></p>

<p>To issue or re-issue e-documents you need to send your digital certificate password. This password is provided to the account owner at the time of setup.</p>

<p>Include it in every issuance or re-issuance request:</p>

<p><code class="prettyprint">X-Password: &lt;digital-certificate-password&gt;</code></p>

          <h1 id="invoices">Invoices</h1>

<h2 id="issuing-an-invoice">Issuing an invoice</h2>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">POST /invoices/issue</code></p>

<h3 id="request">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/invoices/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-certificate-password&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "ambiente":1,
  "tipo_emision":1,
  "secuencial":148,
  "fecha_emision":"2015-02-28T11:28:56.782Z",
  "emisor":{
    "ruc":"0910000000001",
    "obligado_contabilidad":true,
    "contribuyente_especial":"12345",
    "nombre_comercial":"XYZ Corp",
    "razon_social":"XYZ Corporación S.A.",
    "direccion":"Av. Primera 234 y calle 5ta",
    "establecimiento":{
      "punto_emision":"002",
      "codigo":"001",
      "direccion":"Av. Primera 234 y calle 5ta"
    }
  },
  "moneda":"USD",
  "informacion_adicional":{
"Tiempo de entrega":"5 días"
  },
  "totales":{
    "total_sin_impuestos":4359.54,
    "impuestos":[
      {
        "base_imponible":0.0,
        "valor":0.0,
        "codigo":"2",
        "codigo_porcentaje":"0"
      },
      {
        "base_imponible":4359.54,
        "valor":523.14,
        "codigo":"2",
        "codigo_porcentaje":"2"
      }
    ],
    "importe_total":4882.68,
    "propina":0.0,
    "descuento":0.0
  },
  "comprador":{
    "email":"juan.perez@xyz.com",
    "identificacion":"0987654321",
    "tipo_identificacion":"05",
    "razon_social":"Juan Pérez",
    "direccion":"Calle única Numero 987",
    "telefono":"046029400"
  },
  "items":[
    {
      "cantidad":622.0,
      "codigo_principal": "ZNC",
      "codigo_auxiliar": "050",
      "precio_unitario": 7.01,
      "descripcion": "Zanahoria granel  50 Kg.",
      "precio_total_sin_impuestos": 4360.22,
      "impuestos": [
        {
          "base_imponible":4359.54,
          "valor":523.14,
          "tarifa":12.0,
          "codigo":"2",
          "codigo_porcentaje":"2"
        }
      ],
      "detalles_adicionales": {
        "Peso":"5000.0000"
      },
      "descuento": 0.0
    }
  ]
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">factura</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"secuencial"</span><span class="p">:</span><span class="mi">148</span><span class="p">,</span>
  <span class="s">"fecha_emision"</span><span class="p">:</span><span class="s">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span>
  <span class="s">"emisor"</span><span class="p">:{</span>
    <span class="s">"ruc"</span><span class="p">:</span><span class="s">"0910000000001"</span><span class="p">,</span>
    <span class="s">"obligado_contabilidad"</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s">"contribuyente_especial"</span><span class="p">:</span><span class="s">"12345"</span><span class="p">,</span>
    <span class="s">"nombre_comercial"</span><span class="p">:</span><span class="s">"XYZ Corp"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"XYZ Corporación S.A."</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span>
    <span class="s">"establecimiento"</span><span class="p">:{</span>
      <span class="s">"punto_emision"</span><span class="p">:</span><span class="s">"002"</span><span class="p">,</span>
      <span class="s">"codigo"</span><span class="p">:</span><span class="s">"001"</span><span class="p">,</span>
      <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"moneda"</span><span class="p">:</span><span class="s">"USD"</span><span class="p">,</span>
  <span class="s">"informacion_adicional"</span><span class="p">:{</span>
    <span class="s">"Tiempo de entrega"</span><span class="p">:</span><span class="s">"5 días"</span>
  <span class="p">},</span>
  <span class="s">"totales"</span><span class="p">:{</span>
    <span class="s">"total_sin_impuestos"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span>
    <span class="s">"impuestos"</span><span class="p">:[</span>
      <span class="p">{</span>
        <span class="s">"base_imponible"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="s">"valor"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="s">"codigo"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span>
        <span class="s">"codigo_porcentaje"</span><span class="p">:</span><span class="s">"0"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span>
        <span class="s">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span>
        <span class="s">"codigo"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span>
        <span class="s">"codigo_porcentaje"</span><span class="p">:</span><span class="s">"2"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"importe_total"</span><span class="p">:</span><span class="mf">4882.68</span><span class="p">,</span>
    <span class="s">"propina"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="s">"descuento"</span><span class="p">:</span><span class="mf">0.0</span>
  <span class="p">},</span>
  <span class="s">"comprador"</span><span class="p">:{</span>
    <span class="s">"email"</span><span class="p">:</span><span class="s">"juan.perez@xyz.com"</span><span class="p">,</span>
    <span class="s">"identificacion"</span><span class="p">:</span><span class="s">"0987654321"</span><span class="p">,</span>
    <span class="s">"tipo_identificacion"</span><span class="p">:</span><span class="s">"05"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"Juan Pérez"</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Calle única Numero 987"</span><span class="p">,</span>
    <span class="s">"telefono"</span><span class="p">:</span><span class="s">"046029400"</span>
  <span class="p">},</span>
  <span class="s">"items"</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="s">"cantidad"</span><span class="p">:</span><span class="mf">622.0</span><span class="p">,</span>
      <span class="s">"codigo_principal"</span><span class="p">:</span><span class="s">"ZNC"</span><span class="p">,</span>
      <span class="s">"codigo_auxiliar"</span><span class="p">:</span> <span class="s">"050"</span><span class="p">,</span>
      <span class="s">"precio_unitario"</span><span class="p">:</span> <span class="mf">7.01</span><span class="p">,</span>
      <span class="s">"descripcion"</span><span class="p">:</span> <span class="s">"Zanahoria granel  50 Kg."</span><span class="p">,</span>
      <span class="s">"precio_total_sin_impuestos"</span><span class="p">:</span> <span class="mf">4360.22</span><span class="p">,</span>
      <span class="s">"impuestos"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span>
          <span class="s">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span>
          <span class="s">"tarifa"</span><span class="p">:</span><span class="mf">12.0</span><span class="p">,</span>
          <span class="s">"codigo"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span>
          <span class="s">"codigo_porcentaje"</span><span class="p">:</span><span class="s">"2"</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s">"detalles_adicionales"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"Peso"</span><span class="p">:</span><span class="s">"5000.0000"</span>
      <span class="p">},</span>
      <span class="s">"descuento"</span><span class="p">:</span> <span class="mf">0.0</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;your-api-key&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;clave-certificado-firma&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://link.datil.co/invoices/issue"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">factura</span><span class="p">))</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="c1">// Este ejemplo utiliza RestSharp
</span>      <span class="c1">// Para instalar anda al menú: tools &gt; Library Package Manager &gt; Package Manager Console
</span>      <span class="c1">// copia y pega y presiona enter: Install-Package RestSharp
</span>
      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/issue"</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;your-api-key&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Password"</span><span class="p">,</span> <span class="s">"&lt;your-certificate-password&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

      <span class="n">var</span> <span class="n">body</span> <span class="p">=</span> <span class="p">(</span><span class="err">@</span><span class="s">"{
</span>        <span class="s">""</span><span class="n">ambiente</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">tipo_emision</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">secuencial</span><span class="s">""</span><span class="p">:</span><span class="m">148</span><span class="p">,</span>
        <span class="s">""</span><span class="n">fecha_emision</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2015</span><span class="p">-</span><span class="m">02</span><span class="p">-</span><span class="m">28</span><span class="n">T11</span><span class="p">:</span><span class="m">28</span><span class="p">:</span><span class="m">56.782</span><span class="n">Z</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">emisor</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">ruc</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0910000000001</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">obligado_contabilidad</span><span class="s">""</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
          <span class="s">""</span><span class="n">contribuyente_especial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">12345</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">nombre_comercial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corp</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corporaci</span><span class="err">ó</span><span class="n">n</span> <span class="n">S</span><span class="p">.</span><span class="n">A</span><span class="p">.</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">establecimiento</span><span class="s">""</span><span class="p">:{</span>
            <span class="s">""</span><span class="n">punto_emision</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">002</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">001</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">moneda</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">USD</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">informacion_adicional</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">Tiempo</span> <span class="n">de</span> <span class="n">entrega</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">5</span> <span class="n">d</span><span class="err">í</span><span class="k">as</span><span class="s">""</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">totales</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">total_sin_impuestos</span><span class="s">""</span><span class="p">:</span><span class="m">4359.54</span><span class="p">,</span>
          <span class="s">""</span><span class="n">impuestos</span><span class="s">""</span><span class="p">:[</span>
            <span class="p">{</span>
              <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span><span class="p">,</span>
              <span class="s">""</span><span class="n">valor</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0</span><span class="s">""</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span><span class="m">4359.54</span><span class="p">,</span>
              <span class="s">""</span><span class="n">valor</span><span class="s">""</span><span class="p">:</span><span class="m">523.14</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span>
            <span class="p">}</span>
          <span class="p">],</span>
          <span class="s">""</span><span class="n">importe_total</span><span class="s">""</span><span class="p">:</span><span class="m">4882.68</span><span class="p">,</span>
          <span class="s">""</span><span class="n">propina</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span><span class="p">,</span>
          <span class="s">""</span><span class="n">descuento</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">comprador</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">email</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">juan</span><span class="p">.</span><span class="n">perez@xyz</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0987654321</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">tipo_identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">05</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Juan</span> <span class="n">P</span><span class="err">é</span><span class="n">rez</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Calle</span> <span class="err">ú</span><span class="n">nica</span> <span class="n">Numero</span> <span class="m">987</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">telefono</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">046029400</span><span class="s">""</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">items</span><span class="s">""</span><span class="p">:[</span>
          <span class="p">{</span>
            <span class="s">""</span><span class="n">cantidad</span><span class="s">""</span><span class="p">:</span><span class="m">622.0</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo_principal</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">ZNC</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo_auxiliar</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">050</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">precio_unitario</span><span class="s">""</span><span class="p">:</span> <span class="m">7.01</span><span class="p">,</span>
            <span class="s">""</span><span class="n">descripcion</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Zanahoria</span> <span class="n">granel</span>  <span class="m">50</span> <span class="n">Kg</span><span class="p">.</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">precio_total_sin_impuestos</span><span class="s">""</span><span class="p">:</span> <span class="m">4360.22</span><span class="p">,</span>
            <span class="s">""</span><span class="n">impuestos</span><span class="s">""</span><span class="p">:</span> <span class="p">[</span>
              <span class="p">{</span>
                <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span><span class="m">4359.54</span><span class="p">,</span>
                <span class="s">""</span><span class="n">valor</span><span class="s">""</span><span class="p">:</span><span class="m">523.14</span><span class="p">,</span>
                <span class="s">""</span><span class="n">tarifa</span><span class="s">""</span><span class="p">:</span><span class="m">12.0</span><span class="p">,</span>
                <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
                <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span>
              <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">""</span><span class="n">detalles_adicionales</span><span class="s">""</span><span class="p">:</span> <span class="p">{</span>
              <span class="s">""</span><span class="n">Peso</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">5000.0000</span><span class="s">""</span>
            <span class="p">},</span>
            <span class="s">""</span><span class="n">descuento</span><span class="s">""</span><span class="p">:</span> <span class="m">0.0</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">}</span><span class="s">");
</span>      <span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>An invoice requires the following information:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Invoice sequence number.  <strong>Required</strong></td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a></td>
<td>Information about the issuer. <strong>Required</strong></td>
</tr>
<tr>
<td>moneda</td>
<td>string</td>
<td><a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> code for the currency. <strong>Required</strong></td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Issuance date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>guia_remision</td>
<td>string</td>
<td>Waybill number associated with the invoice in the following format: 001-002-000000003 ([0-9]{3}-[0-9]{3}-[0-9]{9})</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Execution environment. Test: <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br><strong>Required</strong></td>
</tr>
<tr>
<td>totales</td>
<td>list of <a href="#invoice-totals">invoice-total</a> objects</td>
<td>List of totals. <strong>Required</strong></td>
</tr>
<tr>
<td>comprador</td>
<td><a href="#recipient">recipient</a> object</td>
<td>Information about the recipient. <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br><strong>Required</strong></td>
</tr>
<tr>
<td>items</td>
<td>list of <a href="#line-item">line-item</a> objects</td>
<td>Line items. <strong>Required</strong></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Defaults to the latest version.</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>The access code represents a unique identified for the document. Datil will generate an access code if you don&rsquo;t provide it.<br>¿How to <a href="#access-code">generate</a> an access code?</td>
</tr>
<tr>
<td>informacion_adicional</td>
<td>object</td>
<td>Additional information about the invoice in dictionary form. Example:<br><code class="prettyprint">{&quot;plan&quot;: &quot;pro&quot;, &quot;months&quot;: &quot;1&quot;}</code></td>
</tr>
<tr>
<td>retenciones</td>
<td>list of <a href="#invoice-withholdings">invoice-withholding</a> objects</td>
<td>Withholdings to be included in the invoice. Specific case for traders or distributors of petroleum derivates and for presumptive VAT Retention for publishers, distributors and newsvendors involved in the marketing of newspapers and / or magazines.</td>
</tr>
</tbody></table>

<h4 id="invoice-totals">Invoice totals</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total_sin_impuestos</td>
<td>float</td>
<td>Total before taxes. <strong>Required</strong></td>
</tr>
<tr>
<td>descuento_adicional</td>
<td>float</td>
<td>Additional discount, applied to the invoice subtotal.</td>
</tr>
<tr>
<td>descuento</td>
<td>float</td>
<td>Sum of each line item discount and the additiona discount. <strong>Required</strong></td>
</tr>
<tr>
<td>propina</td>
<td>float</td>
<td>Tip or gratuity. <strong>Required</strong></td>
</tr>
<tr>
<td>importe_total</td>
<td>float</td>
<td>Total including taxes. <strong>Required</strong></td>
</tr>
<tr>
<td>impuestos</td>
<td>list of <a href="#total-tax">total-tax</a> objects</td>
<td>List of aggregated taxes. <strong>Required</strong></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdef09876123cea56784f01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="mi">148</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="s2">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2802201501091000000000120010010000100451993736618"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"emisor"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0910000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ Corp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ Corporación S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"moneda"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"Tiempo de entrega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5 días"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
    </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">523.14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">4882.68</span><span class="p">,</span><span class="w">
    </span><span class="nt">"propina"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"comprador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juan.perez@xyz.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0987654321"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Juan Pérez"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle única Numero 987"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"046029400"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="mf">622.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZNC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"050"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.01</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zanahoria granel  50 Kg."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="mf">4360.22</span><span class="p">,</span><span class="w">
      </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">523.14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Peso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000.0000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a <strong><a href="#requerimiento">factura</a></strong> object that includes an <code class="prettyprint">id</code> parameter that uniquely identifies the invoice. A generated access code is included as <code class="prettyprint">clave_acceso</code>.</p>

<h2 id="querying-an-invoice">Querying an invoice</h2>

<p>You can query the API for the status of an invoice and look for the <code class="prettyprint">estado</code> parameter. This will tell you if the invoice is authorized or not.</p>

<p>If you want to know the specific step the invoice is into the <a href="#issuance-process">issuance process</a>, look for value in <code class="prettyprint">envio_sri</code> and <code class="prettyprint">autorizacion_sri</code>.</p>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">GET /invoices/&lt;invoice-id&gt;</code></p>

<h3 id="request">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/invoices/&lt;id-factura&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;your-api-key&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/invoices/&lt;id-factura&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">idFactura</span> <span class="p">=</span> <span class="s">"&lt;id-factura&gt;"</span><span class="p">;</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/"</span> <span class="p">+</span> <span class="n">idFactura</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;your-api-key&gt;"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Replace <code class="prettyprint">&lt;invoice-ID&gt;</code> with the <code class="prettyprint">id</code> of the invoice you to query.</p>

<h3 id="response">Response</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcf12343faad06785"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201501099271255400110011000000000162092727615"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"emisor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DATILMEDIA S.A."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V.E. 112 Y CIRCUNVALACION NORTE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"correos_enviados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"fecha_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:36:48.274604"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"destinatarios"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juanantonioplaza@datilmedia.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"guia_remision"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"moneda"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"propina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"168.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"comprador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos L. Plaza"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0900102222"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cplaza@gye593.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Uno y Calle Dos"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"043334445"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"envio_sri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIBIDA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Estadía"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 noches"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Habitación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HAB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Habitación doble"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"autorizacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identificador"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"mensaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ESTE PROCESO FUE REALIZADO EN EL AMBIENTE DE PRUEBAS"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFORMATIVO"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201516323509927125540010266935227"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:32:35.000380"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Invoice sequence number.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Possible values: <code class="prettyprint">AUTORIZADO</code>, <code class="prettyprint">NO AUTORIZADO</code>, <code class="prettyprint">ENVIADO</code>, <code class="prettyprint">DEVUELTO</code>, <code class="prettyprint">RECIBIDO</code></td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Issuance date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>Access code.</td>
</tr>
<tr>
<td>envio_sri</td>
<td><a href="#sri-sending">sri-sending</a> object</td>
<td>Information about the sending step.</td>
</tr>
<tr>
<td>autorizacion</td>
<td><a href="#sri-authorization">sri-authorization</a> object</td>
<td>Information about the authorization step.</td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a> object</td>
<td>Information about the issuer.</td>
</tr>
<tr>
<td>moneda</td>
<td>string</td>
<td><a href="https://en.wikipedia.org/wiki/ISO*4217">ISO</a> code of the currency.</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Environment. Test: <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br></td>
</tr>
<tr>
<td>totales</td>
<td>list of <a href="#invoice-totals">invoice-total</a> object</td>
<td>List of totals.</td>
</tr>
<tr>
<td>comprador</td>
<td><a href="#recipient">recipient</a> object</td>
<td>Information about the recipient.</td>
</tr>
<tr>
<td>tipo*emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br><strong>Required</strong></td>
</tr>
<tr>
<td>items</td>
<td>list of <a href="#line-item">line-item</a> objects</td>
<td>Line items.</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Valid values: <code class="prettyprint">1.0.0</code>, <code class="prettyprint">1.1.0</code></td>
</tr>
</tbody></table>

<h2 id="re-issuing-an-invoice">Re-issuing an invoice</h2>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">POST /invoices/:id/reissue</code></p>

<h3 id="request">Request</h3>

<p>This operation is used to correct e-documents with status <code class="prettyprint">NO AUTORIZADO</code> (not authorized) or <code class="prettyprint">DEVUELTO</code> (returned). This means that the local tax authority did not authorize them and you should correct and try submitting them again.</p>

<p>The <code class="prettyprint">id</code> of the invoice to be re-issued must be included in the URL.</p>

<p>The body must include the <a href="#request">factura</a> object with the corrected parameters so it can be sent and authorized again.</p>

<h3 id="response">Response</h3>

<p>It may return an error if the invoice is already authorized.</p>

          <h1 id="credit-notes">Credit notes</h1>

<h2 id="issuing-a-credit-note">Issuing a credit note</h2>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">POST /credit-notes/issue</code></p>

<h3 id="request">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/credit-notes/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-digital-certificate-password&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "ambiente":1,
  "tipo_emision":1,
  "secuencial":148,
  "fecha_emision":"2015-02-28T11:28:56.782Z",
  "emisor":{
    "ruc":"0910000000001",
    "obligado_contabilidad":true,
    "contribuyente_especial":"12345",
    "nombre_comercial":"XYZ Corp",
    "razon_social":"XYZ Corporación S.A.",
    "direccion":"Av. Primera 234 y calle 5ta",
    "establecimiento":{
      "punto_emision":"002",
      "codigo":"001",
      "direccion":"Av. Primera 234 y calle 5ta"
    }
  },
  "moneda":"USD",
  "informacion_adicional":{
    "Tiempo de entrega":"5 días"
  },
  "totales":{
    "total_sin_impuestos":4359.54,
    "impuestos":[
      {
        "base_imponible":0.0,
        "valor":0.0,
        "codigo":"2",
        "codigo_porcentaje":"0"
      },
      {
        "base_imponible":4359.54,
        "valor":523.14,
        "codigo":"2",
        "codigo_porcentaje":"2"
      }
    ],
    "importe_total":4882.68
  },
  "fecha_emision_documento_modificado": "2015-02-27T11:28:56.782Z",
  "numero_documento_modificado": "001-002-000058473",
  "tipo_documento_modificado": "01",
  "motivo": "Devolución de produtos",
  "comprador":{
    "email":"juan.perez@xyz.com",
    "identificacion":"0987654321",
    "tipo_identificacion":"05",
    "razon_social":"Juan Pérez",
    "direccion":"Calle única Numero 987",
    "telefono":"046029400"
  },
  "items":[
    {
      "cantidad":622.0,
      "codigo_principal": "ZNC",
      "codigo_auxiliar": "050",
      "precio_unitario": 7.01,
      "descripcion": "Zanahoria granel  50 Kg.",
      "precio_total_sin_impuestos": 4360.22,
      "impuestos": [
        {
          "base_imponible":4359.54,
          "valor":523.14,
          "tarifa":12.0,
          "codigo":"2",
          "codigo_porcentaje":"2"
        }
      ],
      "detalles_adicionales": {
        "Peso":"5000.0000"
      },
      "descuento": 0.0
    }
  ]
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">nota_credito</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"secuencial"</span><span class="p">:</span><span class="mi">148</span><span class="p">,</span>
  <span class="s">"fecha_emision"</span><span class="p">:</span><span class="s">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span>
  <span class="s">"emisor"</span><span class="p">:{</span>
    <span class="s">"ruc"</span><span class="p">:</span><span class="s">"0910000000001"</span><span class="p">,</span>
    <span class="s">"obligado_contabilidad"</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s">"contribuyente_especial"</span><span class="p">:</span><span class="s">"12345"</span><span class="p">,</span>
    <span class="s">"nombre_comercial"</span><span class="p">:</span><span class="s">"XYZ Corp"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"XYZ Corporación S.A."</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span>
    <span class="s">"establecimiento"</span><span class="p">:{</span>
      <span class="s">"punto_emision"</span><span class="p">:</span><span class="s">"002"</span><span class="p">,</span>
      <span class="s">"codigo"</span><span class="p">:</span><span class="s">"001"</span><span class="p">,</span>
      <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"moneda"</span><span class="p">:</span><span class="s">"USD"</span><span class="p">,</span>
  <span class="s">"informacion_adicional"</span><span class="p">:{</span>
    <span class="s">"Tiempo de entrega"</span><span class="p">:</span><span class="s">"5 días"</span>
  <span class="p">},</span>
  <span class="s">"totales"</span><span class="p">:{</span>
    <span class="s">"total_sin_impuestos"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span>
    <span class="s">"impuestos"</span><span class="p">:[</span>
      <span class="p">{</span>
        <span class="s">"base_imponible"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="s">"valor"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="s">"codigo"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span>
        <span class="s">"codigo_porcentaje"</span><span class="p">:</span><span class="s">"0"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span>
        <span class="s">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span>
        <span class="s">"codigo"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span>
        <span class="s">"codigo_porcentaje"</span><span class="p">:</span><span class="s">"2"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"importe_total"</span><span class="p">:</span><span class="mf">4882.68</span>
  <span class="p">},</span>
  <span class="s">"fecha_emision_documento_modificado"</span><span class="p">:</span> <span class="s">"2015-02-27T11:28:56.782Z"</span><span class="p">,</span>
  <span class="s">"numero_documento_modificado"</span><span class="p">:</span> <span class="s">"001-002-000058473"</span><span class="p">,</span>
  <span class="s">"tipo_documento_modificado"</span><span class="p">:</span> <span class="s">"01"</span><span class="p">,</span>
  <span class="s">"motivo"</span><span class="p">:</span> <span class="s">"Devolución de produtos"</span><span class="p">,</span>
  <span class="s">"comprador"</span><span class="p">:{</span>
    <span class="s">"email"</span><span class="p">:</span><span class="s">"juan.perez@xyz.com"</span><span class="p">,</span>
    <span class="s">"identificacion"</span><span class="p">:</span><span class="s">"0987654321"</span><span class="p">,</span>
    <span class="s">"tipo_identificacion"</span><span class="p">:</span><span class="s">"05"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"Juan Pérez"</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Calle única Numero 987"</span><span class="p">,</span>
    <span class="s">"telefono"</span><span class="p">:</span><span class="s">"046029400"</span>
  <span class="p">},</span>
  <span class="s">"items"</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="s">"cantidad"</span><span class="p">:</span><span class="mf">622.0</span><span class="p">,</span>
      <span class="s">"codigo_principal"</span><span class="p">:</span><span class="s">"ZNC"</span><span class="p">,</span>
      <span class="s">"codigo_auxiliar"</span><span class="p">:</span> <span class="s">"050"</span><span class="p">,</span>
      <span class="s">"precio_unitario"</span><span class="p">:</span> <span class="mf">7.01</span><span class="p">,</span>
      <span class="s">"descripcion"</span><span class="p">:</span> <span class="s">"Zanahoria granel  50 Kg."</span><span class="p">,</span>
      <span class="s">"precio_total_sin_impuestos"</span><span class="p">:</span> <span class="mf">4360.22</span><span class="p">,</span>
      <span class="s">"impuestos"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span>
          <span class="s">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span>
          <span class="s">"tarifa"</span><span class="p">:</span><span class="mf">12.0</span><span class="p">,</span>
          <span class="s">"codigo"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span>
          <span class="s">"codigo_porcentaje"</span><span class="p">:</span><span class="s">"2"</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s">"detalles_adicionales"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"Peso"</span><span class="p">:</span><span class="s">"5000.0000"</span>
      <span class="p">},</span>
      <span class="s">"descuento"</span><span class="p">:</span> <span class="mf">0.0</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;your-digital-certificate-password&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://link.datil.co/credit-notes/issue"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">nota_credito</span><span class="p">))</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="c1">// Este ejemplo utiliza RestSharp
</span>      <span class="c1">// Para instalar anda al menú: tools &gt; Library Package Manager &gt; Package Manager Console
</span>      <span class="c1">// copia y pega y presiona enter: Install-Package RestSharp
</span>
      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"credit-notes/issue"</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Password"</span><span class="p">,</span> <span class="s">"&lt;your-digital-certificate-password&gt;"</span><span class="p">);</span>

      <span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="err">@</span><span class="s">"{
</span>        <span class="s">""</span><span class="n">ambiente</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">tipo_emision</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">secuencial</span><span class="s">""</span><span class="p">:</span><span class="m">148</span><span class="p">,</span>
        <span class="s">""</span><span class="n">fecha_emision</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2015</span><span class="p">-</span><span class="m">02</span><span class="p">-</span><span class="m">28</span><span class="n">T11</span><span class="p">:</span><span class="m">28</span><span class="p">:</span><span class="m">56.782</span><span class="n">Z</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">emisor</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">ruc</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0910000000001</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">obligado_contabilidad</span><span class="s">""</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
          <span class="s">""</span><span class="n">contribuyente_especial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">12345</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">nombre_comercial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corp</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corporaci</span><span class="err">ó</span><span class="n">n</span> <span class="n">S</span><span class="p">.</span><span class="n">A</span><span class="p">.</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">establecimiento</span><span class="s">""</span><span class="p">:{</span>
            <span class="s">""</span><span class="n">punto_emision</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">002</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">001</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">moneda</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">USD</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">informacion_adicional</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">Tiempo</span> <span class="n">de</span> <span class="n">entrega</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">5</span> <span class="n">d</span><span class="err">í</span><span class="k">as</span><span class="s">""</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">totales</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">total_sin_impuestos</span><span class="s">""</span><span class="p">:</span><span class="m">4359.54</span><span class="p">,</span>
          <span class="s">""</span><span class="n">impuestos</span><span class="s">""</span><span class="p">:[</span>
            <span class="p">{</span>
              <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span><span class="p">,</span>
              <span class="s">""</span><span class="n">valor</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0</span><span class="s">""</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span><span class="m">4359.54</span><span class="p">,</span>
              <span class="s">""</span><span class="n">valor</span><span class="s">""</span><span class="p">:</span><span class="m">523.14</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span>
            <span class="p">}</span>
          <span class="p">],</span>
          <span class="s">""</span><span class="n">importe_total</span><span class="s">""</span><span class="p">:</span><span class="m">4882.68</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">comprador</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">email</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">juan</span><span class="p">.</span><span class="n">perez@xyz</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0987654321</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">tipo_identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">05</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Juan</span> <span class="n">P</span><span class="err">é</span><span class="n">rez</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Calle</span> <span class="err">ú</span><span class="n">nica</span> <span class="n">Numero</span> <span class="m">987</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">telefono</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">046029400</span><span class="s">""</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">items</span><span class="s">""</span><span class="p">:[</span>
          <span class="p">{</span>
            <span class="s">""</span><span class="n">cantidad</span><span class="s">""</span><span class="p">:</span><span class="m">622.0</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo_principal</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">ZNC</span><span class="s">""</span>
            <span class="s">""</span><span class="n">codigo_auxiliar</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">050</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">precio_unitario</span><span class="s">""</span><span class="p">:</span> <span class="m">7.01</span><span class="p">,</span>
            <span class="s">""</span><span class="n">descripcion</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Zanahoria</span> <span class="n">granel</span>  <span class="m">50</span> <span class="n">Kg</span><span class="p">.</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">precio_total_sin_impuestos</span><span class="s">""</span><span class="p">:</span> <span class="m">4360.22</span><span class="p">,</span>
            <span class="s">""</span><span class="n">impuestos</span><span class="s">""</span><span class="p">:</span> <span class="p">[</span>
              <span class="p">{</span>
                <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span><span class="m">4359.54</span><span class="p">,</span>
                <span class="s">""</span><span class="n">valor</span><span class="s">""</span><span class="p">:</span><span class="m">523.14</span><span class="p">,</span>
                <span class="s">""</span><span class="n">tarifa</span><span class="s">""</span><span class="p">:</span><span class="m">12.0</span><span class="p">,</span>
                <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
                <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span>
              <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">""</span><span class="n">detalles_adicionales</span><span class="s">""</span><span class="p">:</span> <span class="p">{</span>
              <span class="s">""</span><span class="n">Peso</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">5000.0000</span><span class="s">""</span>
            <span class="p">},</span>
            <span class="s">""</span><span class="n">descuento</span><span class="s">""</span><span class="p">:</span> <span class="m">0.0</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">}</span><span class="s">");
</span>
      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>A credit note requires the following information:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Credit note sequence number. <strong>Required</strong></td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a></td>
<td>Information about the issuer.. <strong>Required</strong></td>
</tr>
<tr>
<td>moneda</td>
<td>string</td>
<td><a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> currency code. <strong>Required</strong></td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Issuance date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (YYYY-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Environment type. Test: <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br><strong>Required</strong></td>
</tr>
<tr>
<td>comprador</td>
<td><a href="#recipient">recipient</a> object</td>
<td>Recipient information.</td>
</tr>
<tr>
<td>totales</td>
<td>list of <a href="#credit-note-totals">credit note totals</a> objects</td>
<td>List of totals. <strong>Required</strong></td>
</tr>
<tr>
<td>fecha_emision_documento_modificado</td>
<td>string</td>
<td>Issuance date of the modified document in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (YYYY-MM-DDHourTimeZone).. <strong>Required</strong></td>
</tr>
<tr>
<td>numero_documento_modificado</td>
<td>string</td>
<td>Complete document number of the e-document being modified. Normally invoices. Example: 001-002-010023098 <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_documento_modificado</td>
<td>string</td>
<td><a href="#document-types">Document type</a> object. <strong>Required</strong></td>
</tr>
<tr>
<td>motivo</td>
<td>string</td>
<td>Reason for the credit note. Example: Product return. <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br><strong>Required</strong></td>
</tr>
<tr>
<td>items</td>
<td>list of <a href="#line-item">item</a></td>
<td>Items included in the credit note. <strong>Required</strong></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Defaults to the latest version.</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>The access code represents a unique identified for the document. Datil will generate an access code if you don&rsquo;t provide it.<br>¿How to <a href="#access-code">generate</a> an access code?</td>
</tr>
<tr>
<td>informacion_adicional</td>
<td>objeto</td>
<td>Additional information about the invoice in dictionary form. Example:<br><code class="prettyprint">{&quot;plan&quot;: &quot;pro&quot;, &quot;months&quot;: &quot;1&quot;}</code></td>
</tr>
</tbody></table>

<h4 id="credit-note-totals">Credit note totals</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total_sin_impuestos</td>
<td>float</td>
<td>Total before taxes. <strong>Required</strong></td>
</tr>
<tr>
<td>importe_total</td>
<td>float</td>
<td>Total including taxes. <strong>Required</strong></td>
</tr>
<tr>
<td>impuestos</td>
<td>list of <a href="#tax-totals">tax-totals</a></td>
<td>Listado de impuesto totalizados. <strong>Required</strong></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdef09876123cea56784f01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="mi">148</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="s2">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2802201501091000000000120010010000100451993736618"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"emisor"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0910000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ Corp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ Corporación S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"moneda"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"Tiempo de entrega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5 días"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
    </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">523.14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">4882.68</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"comprador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juan.perez@xyz.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0987654321"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Juan Pérez"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle única Numero 987"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"046029400"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="mf">622.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZNC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"050"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.01</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zanahoria granel  50 Kg."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="mf">4360.22</span><span class="p">,</span><span class="w">
      </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">523.14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Peso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000.0000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a <strong><a href="#credit-note-request">credit-note</a></strong> object that includes an <code class="prettyprint">id</code> parameter that uniquely identifies the invoice. A generated access code is included as <code class="prettyprint">clave_acceso</code>.</p>

<h2 id="querying-a-credit-note">Querying a credit note</h2>

<p>You can query the API for the status of a credit note and look for the <code class="prettyprint">estado</code> parameter. This will tell you if the e-document is authorized or not.</p>

<p>If you want to know the specific step the credit note is into the <a href="#issuance-process">issuance process</a>, look for value in <code class="prettyprint">envio_sri</code> and <code class="prettyprint">autorizacion_sri</code>.</p>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">GET /credit-notes/&lt;invoice-id&gt;</code></p>

<h3 id="request">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/credit-notes/&lt;id-credit-note&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-digital-certificate-password&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;your-api-key&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/credit-notes/&lt;id-notacredito&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">idNotaCredito</span> <span class="p">=</span> <span class="s">"&lt;id-notacredito&gt;"</span><span class="p">;</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/"</span> <span class="p">+</span> <span class="n">idNotaCredito</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Replace <code class="prettyprint">&lt;invoice-ID&gt;</code> for the <code class="prettyprint">id</code> of the credit note you want to query.</p>

<h3 id="response">Response</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcf12343faad06785"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201501099271255400110011000000000162092727615"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"emisor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DATILMEDIA S.A."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V.E. 112 Y CIRCUNVALACION NORTE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"correos_enviados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"fecha_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:36:48.274604"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"destinatarios"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juanantonioplaza@datilmedia.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"guia_remision"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"moneda"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"168.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"comprador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos L. Plaza"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0900102222"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cplaza@gye593.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Uno y Calle Dos"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"043334445"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"envio_sri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIBIDA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Estadía"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 noches"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Habitación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HAB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Habitación doble"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"autorizacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identificador"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"mensaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ESTE PROCESO FUE REALIZADO EN EL AMBIENTE DE PRUEBAS"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFORMATIVO"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201516323509927125540010266935227"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:32:35.000380"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>credit note sequence number.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Possible values: <code class="prettyprint">AUTORIZADO</code> (authorized), <code class="prettyprint">NO AUTORIZADO</code> (not authorized), <code class="prettyprint">ENVIADO</code> (sent), <code class="prettyprint">DEVUELTO</code> (rejected), <code class="prettyprint">RECIBIDO</code> (received).</td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Issuance date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>The access code represents a unique identified for the document. Datil will generate an access code if you don&rsquo;t provide it.<br>¿How to <a href="#access-code">generate</a> an access code?</td>
</tr>
<tr>
<td>envio_sri</td>
<td><a href="#sri-sending">sri-sending</a> object</td>
<td>Information about the sending step.</td>
</tr>
<tr>
<td>autorizacion</td>
<td><a href="#sri-authorization">sri-authorization</a> object</td>
<td>Information about the authorization step.</td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a></td>
<td>Information about the issuer.</td>
</tr>
<tr>
<td>moneda</td>
<td>string</td>
<td><a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> code of the currency.</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Environment: Test <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br></td>
</tr>
<tr>
<td>totales</td>
<td>list of <a href="#credit-note-totals">credit-note-total</a></td>
<td>List of credit note totals.</td>
</tr>
<tr>
<td>comprador</td>
<td><a href="#recipient">recipient</a> object</td>
<td>Information about the recipient.</td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br></td>
</tr>
<tr>
<td>items</td>
<td>list of <a href="#line-item">line-item</a> objects</td>
<td>Line items.</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Valid values: <code class="prettyprint">1.0.0</code>, <code class="prettyprint">1.1.0</code></td>
</tr>
</tbody></table>

          <h1 id="withholdings">Withholdings</h1>

<h2 id="issuing-a-withholding">Issuing a withholding</h2>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">POST /retentions/issue</code></p>

<h3 id="requirement">Requirement</h3>

<blockquote>
<h4 id="example-requirement">Example requirement</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/retentions/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-certificate-password&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "ambiente":1,
  "tipo_emision":1,
  "secuencial":14,
  "fecha_emision":"2015-12-25T11:28:56.782Z",
  "periodo_fiscal":"12/2015",
  "emisor":{
    "ruc":"0910000000001",
    "obligado_contabilidad":true,
    "contribuyente_especial":"12345",
    "nombre_comercial":"XYZ Corp",
    "razon_social":"XYZ Corporación S.A.",
    "direccion":"Av. Primera 234 y calle 5ta",
    "establecimiento":{
      "punto_emision":"002",
      "codigo":"001",
      "direccion":"Av. Primera 234 y calle 5ta"
    }
  },
  "informacion_adicional":{
    "Envíada al correo electónico":"contabilidad@xyz.com"
  },
  "items":[
    {
      "base_imponible": 4226.4,
      "codigo": 1,
      "codigo_porcentaje": "312",
      "fecha_emision_documento_sustento": "2015-12-04T00:00:00-05:19",
      "numero_documento_sustento": "011-007-000000251",
      "porcentaje": 1.0,
      "tipo_documento_sustento": "01",
      "valor_retenido": 42.26
    }
  ]
  "sujeto":{
    "email":"contabilidad@email.com",
    "identificacion":"0987654321",
    "tipo_identificacion":"05",
    "razon_social":"Juan Pérez",
    "direccion":"Calle única Numero 987",
    "telefono":"046029400"
  }
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">retencion</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"secuencial"</span><span class="p">:</span><span class="mi">14</span><span class="p">,</span>
  <span class="s">"fecha_emision"</span><span class="p">:</span><span class="s">"2015-12-25T11:28:56.782Z"</span><span class="p">,</span>
  <span class="s">"periodo_fiscal"</span><span class="p">:</span><span class="s">"12/2015"</span><span class="p">,</span>
  <span class="s">"emisor"</span><span class="p">:{</span>
    <span class="s">"ruc"</span><span class="p">:</span><span class="s">"0910000000001"</span><span class="p">,</span>
    <span class="s">"obligado_contabilidad"</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s">"contribuyente_especial"</span><span class="p">:</span><span class="s">"12345"</span><span class="p">,</span>
    <span class="s">"nombre_comercial"</span><span class="p">:</span><span class="s">"XYZ Corp"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"XYZ Corporación S.A."</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span>
    <span class="s">"establecimiento"</span><span class="p">:{</span>
      <span class="s">"punto_emision"</span><span class="p">:</span><span class="s">"002"</span><span class="p">,</span>
      <span class="s">"codigo"</span><span class="p">:</span><span class="s">"001"</span><span class="p">,</span>
      <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"informacion_adicional"</span><span class="p">:{</span>
    <span class="s">"Envíada al correo electónico"</span><span class="p">:</span><span class="s">"contabilidad@xyz.com"</span>
  <span class="p">},</span>
  <span class="s">"items"</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="s">"base_imponible"</span><span class="p">:</span> <span class="mf">4226.4</span><span class="p">,</span>
      <span class="s">"codigo"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s">"codigo_porcentaje"</span><span class="p">:</span> <span class="s">"312"</span><span class="p">,</span>
      <span class="s">"fecha_emision_documento_sustento"</span><span class="p">:</span> <span class="s">"2015-12-04T00:00:00-05:19"</span><span class="p">,</span>
      <span class="s">"numero_documento_sustento"</span><span class="p">:</span> <span class="s">"011-007-000000251"</span><span class="p">,</span>
      <span class="s">"porcentaje"</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
      <span class="s">"tipo_documento_sustento"</span><span class="p">:</span> <span class="s">"01"</span><span class="p">,</span>
      <span class="s">"valor_retenido"</span><span class="p">:</span> <span class="mf">42.26</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s">"sujeto"</span><span class="p">:{</span>
    <span class="s">"email"</span><span class="p">:</span><span class="s">"contabilidad@email.com"</span><span class="p">,</span>
    <span class="s">"identificacion"</span><span class="p">:</span><span class="s">"0987654321"</span><span class="p">,</span>
    <span class="s">"tipo_identificacion"</span><span class="p">:</span><span class="s">"05"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"Juan Pérez"</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Calle única Numero 987"</span><span class="p">,</span>
    <span class="s">"telefono"</span><span class="p">:</span><span class="s">"046029400"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;your-certificate-password&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://link.datil.co/retentions/issue"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">retencion</span><span class="p">))</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="c1">// Este ejemplo utiliza RestSharp
</span>      <span class="c1">// Para instalar anda al menú: tools &gt; Library Package Manager &gt; Package Manager Console
</span>      <span class="c1">// copia y pega y presiona enter: Install-Package RestSharp
</span>
      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/issue"</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Password"</span><span class="p">,</span> <span class="s">"&lt;your-certificate-password&gt;"</span><span class="p">);</span>

      <span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="err">@</span><span class="s">"{
</span>        <span class="s">""</span><span class="n">ambiente</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">tipo_emision</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">secuencial</span><span class="s">""</span><span class="p">:</span><span class="m">14</span><span class="p">,</span>
        <span class="s">""</span><span class="n">fecha_emision</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2015</span><span class="p">-</span><span class="m">12</span><span class="p">-</span><span class="m">25</span><span class="n">T11</span><span class="p">:</span><span class="m">28</span><span class="p">:</span><span class="m">56.782</span><span class="n">Z</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">periodo_fiscal</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">12</span><span class="p">/</span><span class="m">2015</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">emisor</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">ruc</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0910000000001</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">obligado_contabilidad</span><span class="s">""</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
          <span class="s">""</span><span class="n">contribuyente_especial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">12345</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">nombre_comercial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corp</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corporaci</span><span class="err">ó</span><span class="n">n</span> <span class="n">S</span><span class="p">.</span><span class="n">A</span><span class="p">.</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">establecimiento</span><span class="s">""</span><span class="p">:{</span>
            <span class="s">""</span><span class="n">punto_emision</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">002</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">001</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">informacion_adicional</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">Env</span><span class="err">í</span><span class="n">ada</span> <span class="n">al</span> <span class="n">correo</span> <span class="n">elect</span><span class="err">ó</span><span class="n">nico</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">contabilidad@xyz</span><span class="p">.</span><span class="n">com</span><span class="s">""</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">items</span><span class="s">""</span><span class="p">:[</span>
          <span class="p">{</span>
            <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span> <span class="m">4226.4</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">312</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">fecha_emision_documento_sustento</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">2015</span><span class="p">-</span><span class="m">12</span><span class="p">-</span><span class="m">04</span><span class="n">T00</span><span class="p">:</span><span class="m">00</span><span class="p">:</span><span class="m">00</span><span class="p">-</span><span class="m">05</span><span class="p">:</span><span class="m">19</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">numero_documento_sustento</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">011007000000251</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">porcentaje</span><span class="s">""</span><span class="p">:</span> <span class="m">1.0</span><span class="p">,</span>
            <span class="s">""</span><span class="n">tipo_documento_sustento</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">01</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">valor_retenido</span><span class="s">""</span><span class="p">:</span> <span class="m">42.26</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="s">""</span><span class="n">sujeto</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">email</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">contabilidad@email</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0987654321</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">tipo_identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">05</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Juan</span> <span class="n">P</span><span class="err">é</span><span class="n">rez</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Calle</span> <span class="err">ú</span><span class="n">nica</span> <span class="n">Numero</span> <span class="m">987</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">telefono</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">046029400</span><span class="s">""</span>
        <span class="p">}</span>
      <span class="p">}</span><span class="s">");
</span>
      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>A withholding requires the following information</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Withholding sequence number. <strong>Required</strong></td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a></td>
<td>Information about the issuer.  <strong>Required</strong></td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Issuance date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>periodo_fiscal</td>
<td>string</td>
<td>Month and year in MM/YYYY fomat.</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Environment. Test: <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br><strong>Required</strong></td>
</tr>
<tr>
<td>impuestos</td>
<td>list of <a href="#withholded-tax">withholded-tax</a> objects</td>
<td>List of withholded tax line items. <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br><strong>Required</strong></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Defaults to the latest version.</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>The access code represents a unique identified for the document. Datil will generate an access code if you don&rsquo;t provide it.<br>¿How to <a href="#access-code">generate</a> an access code?</td>
</tr>
<tr>
<td>informacion_adicional</td>
<td>object</td>
<td>Additional information about the invoice in dictionary form. Example:<br><code class="prettyprint">{&quot;plan&quot;: &quot;pro&quot;, &quot;months&quot;: &quot;1&quot;}</code></td>
</tr>
</tbody></table>

<h4 id="withholded-tax">Withholded tax</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>base_imponible</td>
<td>float</td>
<td>Taxable amount with up to 2 decimals. <strong>Required</strong></td>
</tr>
<tr>
<td>codigo</td>
<td>string</td>
<td><a href="#withholding-tax-types">withholding-tax-type</a> code. <strong>Required</strong></td>
</tr>
<tr>
<td>codigo_porcentaje</td>
<td>string</td>
<td>Tax rate code. <strong>Required</strong></td>
</tr>
<tr>
<td>porcentaje</td>
<td>float</td>
<td>Tax rate.</td>
</tr>
<tr>
<td>valor_retenido</td>
<td>float</td>
<td>Withholded tax amount, calculated from the product of <code class="prettyprint">porcentaje</code> and <code class="prettyprint">base_imponible</code>, with up to 2 decimals.  <strong>Required</strong></td>
</tr>
<tr>
<td>fecha_emision_documento_sustento</td>
<td>string</td>
<td>Issuance date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone). <strong>Required</strong></td>
</tr>
<tr>
<td>numero_documento_sustento</td>
<td>string</td>
<td>Complete document number of the e-document being modified. Normally invoices. Example: 001-002-010023098 <strong>Required</strong></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdef09876123cea56784f01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2802201501091000000000120010010000100451993736618"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="mi">14</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="s2">"2015-12-25T11:28:56.782Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"periodo_fiscal"</span><span class="p">:</span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"emisor"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"ruc"</span><span class="p">:</span><span class="s2">"0910000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="s2">"XYZ Corp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"XYZ Corporación S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"establecimiento"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="s2">"002"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"informacion_adicional"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"Envíada al correo electónico"</span><span class="p">:</span><span class="s2">"contabilidad@xyz.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">4226.4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fecha_emision_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-04T00:00:00-05:19"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"numero_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"011-007-000000251"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tipo_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"valor_retenido"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.26</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sujeto"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"contabilidad@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="s2">"0987654321"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="s2">"05"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Juan Pérez"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Calle única Numero 987"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="s2">"046029400"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a <strong><a href="#withholding-request">withholding</a></strong> object that includes an <code class="prettyprint">id</code> parameter that uniquely identifies the withholding. A generated access code is included as <code class="prettyprint">clave_acceso</code>.</p>

<h2 id="querying-a-withholding">Querying a withholding</h2>

<p>You can query the API for the status of a withholding and look for the <code class="prettyprint">estado</code> parameter. This will tell you if the e-document is authorized or not.</p>

<p>If you want to know the specific step the withholding is into the <a href="#issuance-process">issuance process</a>, look for value in <code class="prettyprint">envio_sri</code> and <code class="prettyprint">autorizacion_sri</code>.</p>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">GET /retentions/&lt;receipt-id&gt;</code></p>

<h3 id="request">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/retentions/&lt;id-retencion&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;clave-del-api&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-certificate-password&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/retentions/&lt;id-retencion&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">idNotaCredito</span> <span class="p">=</span> <span class="s">"&lt;id-retencion&gt;"</span><span class="p">;</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/"</span> <span class="p">+</span> <span class="n">idNotaCredito</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Replace <code class="prettyprint">&lt;invoice-ID&gt;</code> for the <code class="prettyprint">id</code> of the withholding you want to query.</p>

<h3 id="response">Response</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcf12343faad06785abcf12343faad0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201501099271255400110011000000000162092727615"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"emisor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DATILMEDIA S.A."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V.E. 112 Y CIRCUNVALACION NORTE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">4226.4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha_emision_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-04T00:00:00-05:19"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"numero_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"011007000000251"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tipo_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor_retenido"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.26</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"correos_enviados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"fecha_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:36:48.274604"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"destinatarios"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juanantonioplaza@datilmedia.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sujeto"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos L. Plaza"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0900102222"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cplaza@gye593.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Uno y Calle Dos"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"043334445"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"envio_sri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIBIDA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"autorizacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identificador"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"mensaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ESTE PROCESO FUE REALIZADO EN EL AMBIENTE DE PRUEBAS"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFORMATIVO"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201516323509927125540010266935227"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:32:35.000380"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Withholding sequence number.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Possible values: <code class="prettyprint">AUTORIZADO</code> (authorized), <code class="prettyprint">NO AUTORIZADO</code> (not authorized), <code class="prettyprint">ENVIADO</code> (sent), <code class="prettyprint">DEVUELTO</code> (rejected), <code class="prettyprint">RECIBIDO</code> (received).</td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Issuance date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>The access code represents a unique identified for the document. Datil will generate an access code if you don&rsquo;t provide it.<br>¿How to <a href="#access-code">generate</a> an access code?</td>
</tr>
<tr>
<td>envio_sri</td>
<td><a href="#sri-sending">sri-sending</a> object</td>
<td>Information about the sending step.</td>
</tr>
<tr>
<td>autorizacion</td>
<td><a href="#sri-authorization">sri-authorization</a> object</td>
<td>Information about the authorization step.</td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a></td>
<td>Information about the issuer.</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Environment: Test <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br></td>
</tr>
<tr>
<td>items</td>
<td>list of <a href="#withholded-tax">withholded tax</a> objects</td>
<td>List of withholded taxes. <strong>Required</strong></td>
</tr>
<tr>
<td>sujeto</td>
<td><a href="#recipient">recipient</a> object</td>
<td>Information about the recipient.</td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Valid values: <code class="prettyprint">1.0.0</code>, <code class="prettyprint">1.1.0</code></td>
</tr>
</tbody></table>

          <h1 id="waybills">Waybills</h1>

<h2 id="issuing-a-waybill">Issuing a waybill</h2>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">POST /waybills/issue</code></p>

<h3 id="requerimiento-guia-remision">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/waybills/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-certificate-password&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "ambiente":1,
  "tipo_emision":1,
  "secuencial":50,
  "fecha_inicio_transporte":"2015-02-28T11:28:56.782Z",
  "fecha_fin_transporte":"2015-02-28T11:28:56.782Z",
  "direccion_partida": "Victor Emilio Estrada",
  "emisor":{
    "ruc":"0910000000001",
    "obligado_contabilidad":true,
    "contribuyente_especial":"12345",
    "nombre_comercial":"XYZ Corp",
    "razon_social":"XYZ Corporación S.A.",
    "direccion":"Av. Primera 234 y calle 5ta",
    "establecimiento":{
      "punto_emision":"002",
      "codigo":"001",
      "direccion":"Av. Primera 234 y calle 5ta"
    }
  },
  "informacion_adicional":{
    "Tiempo de entrega":"5 días"
  },
  "transportista":{
    "email":"juan.perez@xyz.com",
    "identificacion":"0987654321",
    "tipo_identificacion":"05",
    "razon_social":"Juan Pérez",
    "direccion":"Calle única Numero 987",
    "telefono":"04 6029400",
    "placa":"GSM-0123"
  },
  "destinatarios": [{
    "identificacion":"0987654321",
    "tipo_identificacion":"05",
    "razon_social":"Juan Pérez",
    "direccion":"Calle única Numero 987",
    "email":"juan.perez@xyz.com",
    "telefono":"046029400",
    "fecha_emision_documento_sustento": "2015-02-27T11:28:56.782Z",
    "numero_documento_sustento": "001-001-000000008",
    "numero_autorizacion_documento_sustento": "0123456789",
    "motivo_traslado": "Venta",
    "tipo_documento_sustento": "01",
    "ruta": "GYE - UIO",
    "documento_aduanero_unico": "",
    "codigo_establecimiento_destino": "001",
    "items": [{
      "cantidad": 1.0,
      "codigo_principal": "SPS",
      "codigo_auxiliar": "001",
      "descripcion": "Playstation 4",
      "detalles_adicionales": {
        "numero": "DFGDG2342-2",
        "serie": "1-2014-2"
      }
    }]
  }]
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">guia_remision</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"secuencial"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span>
  <span class="s">"fecha_inicio_transporte"</span><span class="p">:</span><span class="s">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span>
  <span class="s">"fecha_fin_transporte"</span><span class="p">:</span><span class="s">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span>
  <span class="s">"direccion_partida"</span><span class="p">:</span> <span class="s">"Victor Emilio Estrada"</span><span class="p">,</span>
  <span class="s">"emisor"</span><span class="p">:{</span>
    <span class="s">"ruc"</span><span class="p">:</span><span class="s">"0910000000001"</span><span class="p">,</span>
    <span class="s">"obligado_contabilidad"</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s">"contribuyente_especial"</span><span class="p">:</span><span class="s">"12345"</span><span class="p">,</span>
    <span class="s">"nombre_comercial"</span><span class="p">:</span><span class="s">"XYZ Corp"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"XYZ Corporación S.A."</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span>
    <span class="s">"establecimiento"</span><span class="p">:{</span>
      <span class="s">"punto_emision"</span><span class="p">:</span><span class="s">"002"</span><span class="p">,</span>
      <span class="s">"codigo"</span><span class="p">:</span><span class="s">"001"</span><span class="p">,</span>
      <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"informacion_adicional"</span><span class="p">:{</span>
    <span class="s">"Tiempo de entrega"</span><span class="p">:</span><span class="s">"5 días"</span>
  <span class="p">},</span>
  <span class="s">"transportista"</span><span class="p">:{</span>
    <span class="s">"email"</span><span class="p">:</span><span class="s">"juan.perez@xyz.com"</span><span class="p">,</span>
    <span class="s">"identificacion"</span><span class="p">:</span><span class="s">"0987654321"</span><span class="p">,</span>
    <span class="s">"tipo_identificacion"</span><span class="p">:</span><span class="s">"05"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"Juan Pérez"</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Calle única Numero 987"</span><span class="p">,</span>
    <span class="s">"telefono"</span><span class="p">:</span><span class="s">"04 6029400"</span><span class="p">,</span>
    <span class="s">"placa"</span><span class="p">:</span><span class="s">"GSM-0123"</span>
  <span class="p">},</span>
  <span class="s">"destinatarios"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">"identificacion"</span><span class="p">:</span><span class="s">"0987654321"</span><span class="p">,</span>
    <span class="s">"tipo_identificacion"</span><span class="p">:</span><span class="s">"05"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"Juan Pérez"</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Calle única Numero 987"</span><span class="p">,</span>
    <span class="s">"email"</span><span class="p">:</span><span class="s">"juan.perez@xyz.com"</span><span class="p">,</span>
    <span class="s">"telefono"</span><span class="p">:</span><span class="s">"046029400"</span><span class="p">,</span>
    <span class="s">"fecha_emision_documento_sustento"</span><span class="p">:</span> <span class="s">"2015-02-27T11:28:56.782Z"</span><span class="p">,</span>
    <span class="s">"numero_documento_sustento"</span><span class="p">:</span> <span class="s">"001-001-000000008"</span><span class="p">,</span>
    <span class="s">"numero_autorizacion_documento_sustento"</span><span class="p">:</span> <span class="s">"0123456789"</span><span class="p">,</span>
    <span class="s">"motivo_traslado"</span><span class="p">:</span> <span class="s">"Venta"</span><span class="p">,</span>
    <span class="s">"tipo_documento_sustento"</span><span class="p">:</span> <span class="s">"01"</span><span class="p">,</span>
    <span class="s">"ruta"</span><span class="p">:</span> <span class="s">"GYE - UIO"</span><span class="p">,</span>
    <span class="s">"documento_aduanero_unico"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"codigo_establecimiento_destino"</span><span class="p">:</span> <span class="s">"001"</span><span class="p">,</span>
    <span class="s">"items"</span><span class="p">:</span> <span class="p">[{</span>
      <span class="s">"cantidad"</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
      <span class="s">"codigo_principal"</span><span class="p">:</span> <span class="s">"SPS"</span><span class="p">,</span>
      <span class="s">"codigo_auxiliar"</span><span class="p">:</span> <span class="s">"001"</span><span class="p">,</span>
      <span class="s">"descripcion"</span><span class="p">:</span> <span class="s">"Playstation 4"</span><span class="p">,</span>
      <span class="s">"detalles_adicionales"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"numero"</span><span class="p">:</span> <span class="s">"DFGDG2342-2"</span><span class="p">,</span>
        <span class="s">"serie"</span><span class="p">:</span> <span class="s">"1-2014-2"</span>
      <span class="p">}</span>
    <span class="p">}]</span>
  <span class="p">}]</span>
<span class="p">}</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;your-certificate-password&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://link.datil.co/waybills/issue"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">guia_remision</span><span class="p">))</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="c1">// Este ejemplo utiliza RestSharp
</span>      <span class="c1">// Para instalar anda al menú: tools &gt; Library Package Manager &gt; Package Manager Console
</span>      <span class="c1">// copia y pega y presiona enter: Install-Package RestSharp
</span>
      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"waybills/issue"</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Password"</span><span class="p">,</span> <span class="s">"&lt;your-certificate-password&gt;"</span><span class="p">);</span>

      <span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="err">@</span><span class="s">"{
</span>        <span class="s">""</span><span class="n">ambiente</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">tipo_emision</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">secuencial</span><span class="s">""</span><span class="p">:</span><span class="m">50</span><span class="p">,</span>
        <span class="s">""</span><span class="n">fecha_inicio_transporte</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2015</span><span class="p">-</span><span class="m">02</span><span class="p">-</span><span class="m">28</span><span class="n">T11</span><span class="p">:</span><span class="m">28</span><span class="p">:</span><span class="m">56.782</span><span class="n">Z</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">fecha_fin_transporte</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2015</span><span class="p">-</span><span class="m">02</span><span class="p">-</span><span class="m">28</span><span class="n">T11</span><span class="p">:</span><span class="m">28</span><span class="p">:</span><span class="m">56.782</span><span class="n">Z</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">direccion_partida</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Victor</span> <span class="n">Emilio</span> <span class="n">Estrada</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">emisor</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">ruc</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0910000000001</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">obligado_contabilidad</span><span class="s">""</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
          <span class="s">""</span><span class="n">contribuyente_especial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">12345</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">nombre_comercial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corp</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corporaci</span><span class="err">ó</span><span class="n">n</span> <span class="n">S</span><span class="p">.</span><span class="n">A</span><span class="p">.</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">establecimiento</span><span class="s">""</span><span class="p">:{</span>
            <span class="s">""</span><span class="n">punto_emision</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">002</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">001</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">informacion_adicional</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">Tiempo</span> <span class="n">de</span> <span class="n">entrega</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">5</span> <span class="n">d</span><span class="err">í</span><span class="k">as</span><span class="s">""</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">transportista</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">email</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">juan</span><span class="p">.</span><span class="n">perez@xyz</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0987654321</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">tipo_identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">05</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Juan</span> <span class="n">P</span><span class="err">é</span><span class="n">rez</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Calle</span> <span class="err">ú</span><span class="n">nica</span> <span class="n">Numero</span> <span class="m">987</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">telefono</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">04</span> <span class="m">6029400</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">placa</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">GSM</span><span class="p">-</span><span class="m">0123</span><span class="s">""</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">destinatarios</span><span class="s">""</span><span class="p">:</span> <span class="p">[{</span>
          <span class="s">""</span><span class="n">identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0987654321</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">tipo_identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">05</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Juan</span> <span class="n">P</span><span class="err">é</span><span class="n">rez</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Calle</span> <span class="err">ú</span><span class="n">nica</span> <span class="n">Numero</span> <span class="m">987</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">email</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">juan</span><span class="p">.</span><span class="n">perez@xyz</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">telefono</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">046029400</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">fecha_emision_documento_sustento</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">2015</span><span class="p">-</span><span class="m">02</span><span class="p">-</span><span class="m">27</span><span class="n">T11</span><span class="p">:</span><span class="m">28</span><span class="p">:</span><span class="m">56.782</span><span class="n">Z</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">numero_documento_sustento</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">001</span><span class="p">-</span><span class="m">001</span><span class="p">-</span><span class="m">000000008</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">numero_autorizacion_documento_sustento</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">0123456789</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">motivo_traslado</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Venta</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">tipo_documento_sustento</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">01</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">ruta</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">GYE</span> <span class="p">-</span> <span class="n">UIO</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">documento_aduanero_unico</span><span class="s">""</span><span class="p">:</span> <span class="s">""""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">codigo_establecimiento_destino</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">001</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">items</span><span class="s">""</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s">""</span><span class="n">cantidad</span><span class="s">""</span><span class="p">:</span> <span class="m">1.0</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo_principal</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">SPS</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo_auxiliar</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">001</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">descripcion</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Playstation</span> <span class="m">4</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">detalles_adicionales</span><span class="s">""</span><span class="p">:</span> <span class="p">{</span>
              <span class="s">""</span><span class="n">numero</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">DFGDG2342</span><span class="p">-</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
              <span class="s">""</span><span class="n">serie</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">1</span><span class="p">-</span><span class="m">2014</span><span class="p">-</span><span class="m">2</span><span class="s">""</span>
            <span class="p">}</span>
          <span class="p">}]</span>
        <span class="p">}]</span>
      <span class="p">}</span><span class="s">");
</span>
      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>A waybill requires the following information.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Waybill sequence number. <strong>Required</strong></td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a></td>
<td>Information about the issuer. <strong>Required</strong></td>
</tr>
<tr>
<td>fecha_inicio_transporte</td>
<td>string</td>
<td>Start of service date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>fecha_fin_transporte</td>
<td>string</td>
<td>End of service date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>direccion_partida</td>
<td>string</td>
<td>Pickup address.</td>
</tr>
<tr>
<td>transportista</td>
<td><a href="#carrier">carrier</a> object</td>
<td>Information about the carrier.</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Execution environment. Test: <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br><strong>Required</strong></td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br><strong>Required</strong></td>
</tr>
<tr>
<td>destinatarios</td>
<td>list of <a href="#receiver">receiver</a> object</td>
<td>Information about the receivers of the waybill. <strong>Required</strong></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Defaults to the latest version.</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>The access code represents a unique identified for the document. Datil will generate an access code if you don&rsquo;t provide it.<br>¿How to <a href="#access-code">generate</a> an access code?</td>
</tr>
<tr>
<td>informacion_adicional</td>
<td>object</td>
<td>Additional information about the invoice in dictionary form. Example:<br><code class="prettyprint">{&quot;plan&quot;: &quot;pro&quot;, &quot;months&quot;: &quot;1&quot;}</code></td>
</tr>
</tbody></table>

<h4 id="receiver">Receiver</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>razon_social</td>
<td>string</td>
<td>Legal name of the receiver. 300 characters limit. <strong>Required</strong></td>
</tr>
<tr>
<td>identificacion</td>
<td>string</td>
<td>Tax identification. From 5 to 20 characters. <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_identificacion</td>
<td>string</td>
<td><a href="#identification-types">identification type</a> code. <strong>Required</strong></td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email of the receiver.</td>
</tr>
<tr>
<td>telefono</td>
<td>string</td>
<td>Telephone of the receiver.</td>
</tr>
<tr>
<td>direccion</td>
<td>string</td>
<td>Address of the receiver.</td>
</tr>
<tr>
<td>ruta</td>
<td>string</td>
<td>Transport route. 300 limit.</td>
</tr>
<tr>
<td>documento_aduanero_unico</td>
<td>string</td>
<td>Unique customs identification. 20 character limit.</td>
</tr>
<tr>
<td>fecha_emision_documento_sustento</td>
<td>string</td>
<td>Issuance date of the support e-document in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).. <strong>Required</strong></td>
</tr>
<tr>
<td>numero_documento_sustento</td>
<td>string</td>
<td>Complete number of the e-document that lists the transported goods. Normally invoices. Example: 001-002-010023098 <strong>Required</strong></td>
</tr>
<tr>
<td>codigo_establecimiento_destino</td>
<td>string</td>
<td>Location number receiving the goods.. Example: 002. <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_documento_sustento</td>
<td>string</td>
<td><a href="#document-types">support document type</a>. <strong>Required</strong></td>
</tr>
<tr>
<td>motivo_traslado</td>
<td>string</td>
<td>Reason for the transfer. Example: Order fulfillment. <strong>Required</strong></td>
</tr>
<tr>
<td>numero_autorizacion_documento_sustento</td>
<td>string</td>
<td>Authorization number of the support e-document.</td>
</tr>
<tr>
<td>items</td>
<td>list of <a href="#transported-good">transported good</a> objects</td>
<td>List of transported goods.</td>
</tr>
</tbody></table>

<h4 id="transported-good">Transported good</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>descripcion</td>
<td>string</td>
<td>Item description. <strong>Required</strong></td>
</tr>
<tr>
<td>codigo_principal</td>
<td>string</td>
<td>Stock keeping unit code. 25 characters limit.</td>
</tr>
<tr>
<td>codigo_auxiliar</td>
<td>string</td>
<td>Additional stock keeping unit code. 25 characters limit.</td>
</tr>
<tr>
<td>cantidad</td>
<td>float</td>
<td>Quantity. <strong>Required</strong></td>
</tr>
<tr>
<td>detalles_adicionales</td>
<td>object</td>
<td>Additional product information the dictionary format. Example:<br><code>{&quot;brand&quot;: &quot;Ferrari&quot;, &quot;chasis&quot;: &quot;UANEI832-NAU101&quot;}</code>. Limited to 3 key and value pairs.</td>
</tr>
</tbody></table>

<h4 id="carrier">Carrier</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>razon_social</td>
<td>string</td>
<td>Legal name. 300 characters limit. <strong>Required</strong></td>
</tr>
<tr>
<td>identificacion</td>
<td>string</td>
<td>Tax identification. 5 to 20 characters. <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_identificacion</td>
<td>string</td>
<td><a href="#identification-types">identification type</a>. <strong>Required</strong></td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email of the carrier. 300 characters limit. <strong>Required</strong></td>
</tr>
<tr>
<td>telefono</td>
<td>string</td>
<td>Telephone of the carrier.</td>
</tr>
<tr>
<td>direccion</td>
<td>string</td>
<td>Address of the carrier.</td>
</tr>
<tr>
<td>placa</td>
<td>string</td>
<td>Vehicle license plate.</td>
</tr>
</tbody></table>

<h3 id="resonse">Resonse</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcfde09817263847cdaef8493018fef"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="s2">"2802201501091000000000120010010000100451993736618"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fecha_inicio_transporte"</span><span class="p">:</span><span class="s2">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fecha_fin_transporte"</span><span class="p">:</span><span class="s2">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"emisor"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"ruc"</span><span class="p">:</span><span class="s2">"0910000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="s2">"XYZ Corp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"XYZ Corporación S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"establecimiento"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="s2">"002"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"informacion_adicional"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"Tiempo de entrega"</span><span class="p">:</span><span class="s2">"5 días"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"transportista"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"juan.perez@xyz.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="s2">"0987654321"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="s2">"05"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Juan Pérez"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Calle única Numero 987"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="s2">"04 6029400"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"placa"</span><span class="p">:</span><span class="s2">"GSM-0123"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"destinatarios"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="s2">"0987654321"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="s2">"05"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Juan Pérez"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Calle única Numero 987"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"juan.perez@xyz.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="s2">"046029400"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fecha_emision_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-27T11:28:56.782Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"numero_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-001-000000008"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"numero_autorizacion_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456789"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"motivo_traslado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Venta"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_documento_sustento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ruta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GYE - UIO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"documento_aduanero_unico"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"codigo_establecimiento_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPS"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Playstation 4"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DFGDG2342-2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"serie"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-2014-2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a <strong><a href="#requerimiento">waybill</a></strong> object that includes an <code class="prettyprint">id</code> parameter that uniquely identifies the waybill. A generated access code is included as <code class="prettyprint">clave_acceso</code>.</p>

<h2 id="querying-a-waybill">Querying a waybill</h2>

<p>You can query the API for the status of a waybill and look for the <code class="prettyprint">estado</code> parameter. This will tell you if the waybill is authorized or not.</p>

<p>If you want to know the specific step the waybill is into the <a href="#issuance-process">issuance process</a>, look for value in <code class="prettyprint">envio_sri</code> and <code class="prettyprint">autorizacion_sri</code>.</p>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">GET /waybills/&lt;receipt-id&gt;</code></p>

<h3 id="request">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/waybills/&lt;id-notacredito&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-certificate-password&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/waybills/&lt;id-notacredito&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">idNotaCredito</span> <span class="p">=</span> <span class="s">"&lt;id-notacredito&gt;"</span><span class="p">;</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/"</span> <span class="p">+</span> <span class="n">idNotaCredito</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Replace <code class="prettyprint">&lt;receipt-id&gt;</code> with the <code class="prettyprint">id</code> of the waybill you to query.</p>

<h3 id="response">Response</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcf12343faad06785"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201501099271255400110011000000000162092727615"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"emisor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DATILMEDIA S.A."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V.E. 112 Y CIRCUNVALACION NORTE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"correos_enviados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"fecha_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:36:48.274604"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"destinatarios"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juanantonioplaza@datilmedia.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"guia_remision"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"moneda"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"propina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"168.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"comprador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos L. Plaza"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0900102222"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cplaza@gye593.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Uno y Calle Dos"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"043334445"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"envio_sri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIBIDA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Estadía"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 noches"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Habitación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HAB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Habitación doble"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"autorizacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identificador"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"mensaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ESTE PROCESO FUE REALIZADO EN EL AMBIENTE DE PRUEBAS"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFORMATIVO"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201516323509927125540010266935227"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:32:35.000380"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Waybill sequence number. <strong>Required</strong></td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a></td>
<td>Information about the issuer. <strong>Required</strong></td>
</tr>
<tr>
<td>fecha_inicio_transporte</td>
<td>string</td>
<td>Start of service date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>fecha_fin_transporte</td>
<td>string</td>
<td>End of service date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>direccion_partida</td>
<td>string</td>
<td>Pickup address.</td>
</tr>
<tr>
<td>transportista</td>
<td><a href="#carrier">carrier</a> object</td>
<td>Information about the carrier.</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Execution environment. Test: <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br><strong>Required</strong></td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br><strong>Required</strong></td>
</tr>
<tr>
<td>destinatarios</td>
<td>list of <a href="#receiver">receiver</a> object</td>
<td>Information about the receivers of the waybill. <strong>Required</strong></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Defaults to the latest version.</td>
</tr>
<tr>
<td>envio_sri</td>
<td><a href="#sri-sending">sri-sending</a> object</td>
<td>Information about the sending step.</td>
</tr>
<tr>
<td>autorizacion</td>
<td><a href="#sri-authorization">sri-authorization</a> object</td>
<td>Information about the authorization step.</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>The access code represents a unique identified for the document. Datil will generate an access code if you don&rsquo;t provide it.<br>¿How to <a href="#access-code">generate</a> an access code?</td>
</tr>
<tr>
<td>informacion_adicional</td>
<td>object</td>
<td>Additional information about the invoice in dictionary form. Example:<br><code class="prettyprint">{&quot;plan&quot;: &quot;pro&quot;, &quot;months&quot;: &quot;1&quot;}</code></td>
</tr>
</tbody></table>

          <h1 id="debit-notes">Debit notes</h1>

<h2 id="issuing-a-debit-note">Issuing a debit note</h2>

<h3 id="operation">operation</h3>

<p><code class="prettyprint">POST /debit-notes/issue</code></p>

<h3 id="request">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/debit-notes/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-certificate-password&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "ambiente":1,
  "tipo_emision":1,
  "secuencial":148,
  "fecha_emision":"2015-02-28T11:28:56.782Z",
  "emisor":{
    "ruc":"0910000000001",
    "obligado_contabilidad":true,
    "contribuyente_especial":"12345",
    "nombre_comercial":"XYZ Corp",
    "razon_social":"XYZ Corporación S.A.",
    "direccion":"Av. Primera 234 y calle 5ta",
    "establecimiento":{
      "punto_emision":"002",
      "codigo":"001",
      "direccion":"Av. Primera 234 y calle 5ta"
    }
  },
  "informacion_adicional":{
    "Tiempo de entrega":"5 días"
  },
  "totales":{
    "total_sin_impuestos":4359.54,
    "impuestos":[
      {
        "base_imponible":4359.54,
        "valor":523.14,
        "codigo":"2",
        "codigo_porcentaje":"2",
        "tarifa": 12.0
      }
    ],
    "importe_total":4882.68
  },
  "fecha_emision_documento_modificado": "2015-02-27T11:28:56.782Z",
  "numero_documento_modificado": "001-002-000058473",
  "tipo_documento_modificado": "01",
  "comprador":{
    "email":"juan.perez@xyz.com",
    "identificacion":"0987654321",
    "tipo_identificacion":"05",
    "razon_social":"Juan Pérez",
    "direccion":"Calle única Numero 987",
    "telefono":"046029400"
  },
  "items":[
    {
      "motivo":"Interés por mora",
      "valor":120.89
    }
  ]
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">nota_debito</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"secuencial"</span><span class="p">:</span><span class="mi">148</span><span class="p">,</span>
  <span class="s">"fecha_emision"</span><span class="p">:</span><span class="s">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span>
  <span class="s">"emisor"</span><span class="p">:{</span>
    <span class="s">"ruc"</span><span class="p">:</span><span class="s">"0910000000001"</span><span class="p">,</span>
    <span class="s">"obligado_contabilidad"</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s">"contribuyente_especial"</span><span class="p">:</span><span class="s">"12345"</span><span class="p">,</span>
    <span class="s">"nombre_comercial"</span><span class="p">:</span><span class="s">"XYZ Corp"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"XYZ Corporación S.A."</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span>
    <span class="s">"establecimiento"</span><span class="p">:{</span>
      <span class="s">"punto_emision"</span><span class="p">:</span><span class="s">"002"</span><span class="p">,</span>
      <span class="s">"codigo"</span><span class="p">:</span><span class="s">"001"</span><span class="p">,</span>
      <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Av. Primera 234 y calle 5ta"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"informacion_adicional"</span><span class="p">:{</span>
    <span class="s">"Tiempo de entrega"</span><span class="p">:</span><span class="s">"5 días"</span>
  <span class="p">},</span>
  <span class="s">"totales"</span><span class="p">:{</span>
    <span class="s">"total_sin_impuestos"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span>
    <span class="s">"impuestos"</span><span class="p">:[</span>
      <span class="p">{</span>
        <span class="s">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span>
        <span class="s">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span>
        <span class="s">"codigo"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span>
        <span class="s">"codigo_porcentaje"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span>
        <span class="s">"tarifa"</span><span class="p">:</span> <span class="mf">12.0</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"importe_total"</span><span class="p">:</span><span class="mf">4882.68</span>
  <span class="p">},</span>
  <span class="s">"fecha_emision_documento_modificado"</span><span class="p">:</span> <span class="s">"2015-02-27T11:28:56.782Z"</span><span class="p">,</span>
  <span class="s">"numero_documento_modificado"</span><span class="p">:</span> <span class="s">"001-002-000058473"</span><span class="p">,</span>
  <span class="s">"tipo_documento_modificado"</span><span class="p">:</span> <span class="s">"01"</span><span class="p">,</span>
  <span class="s">"comprador"</span><span class="p">:{</span>
    <span class="s">"email"</span><span class="p">:</span><span class="s">"juan.perez@xyz.com"</span><span class="p">,</span>
    <span class="s">"identificacion"</span><span class="p">:</span><span class="s">"0987654321"</span><span class="p">,</span>
    <span class="s">"tipo_identificacion"</span><span class="p">:</span><span class="s">"05"</span><span class="p">,</span>
    <span class="s">"razon_social"</span><span class="p">:</span><span class="s">"Juan Pérez"</span><span class="p">,</span>
    <span class="s">"direccion"</span><span class="p">:</span><span class="s">"Calle única Numero 987"</span><span class="p">,</span>
    <span class="s">"telefono"</span><span class="p">:</span><span class="s">"046029400"</span>
  <span class="p">},</span>
  <span class="s">"items"</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="s">"motivo"</span><span class="p">:</span><span class="s">"Interés por mora"</span><span class="p">,</span>
      <span class="s">"valor"</span><span class="p">:</span><span class="mf">120.89</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}}</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;your-certificate-password&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://link.datil.co/debit-notes/issue"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">nota_debito</span><span class="p">))</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="c1">// Este ejemplo utiliza RestSharp
</span>      <span class="c1">// Para instalar anda al menú: tools &gt; Library Package Manager &gt; Package Manager Console
</span>      <span class="c1">// copia y pega y presiona enter: Install-Package RestSharp
</span>
      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"debit-notes/issue"</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Password"</span><span class="p">,</span> <span class="s">"&lt;your-certificate-password&gt;"</span><span class="p">);</span>

      <span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="err">@</span><span class="s">"{
</span>        <span class="s">""</span><span class="n">ambiente</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">tipo_emision</span><span class="s">""</span><span class="p">:</span><span class="m">1</span><span class="p">,</span>
        <span class="s">""</span><span class="n">secuencial</span><span class="s">""</span><span class="p">:</span><span class="m">148</span><span class="p">,</span>
        <span class="s">""</span><span class="n">fecha_emision</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2015</span><span class="p">-</span><span class="m">02</span><span class="p">-</span><span class="m">28</span><span class="n">T11</span><span class="p">:</span><span class="m">28</span><span class="p">:</span><span class="m">56.782</span><span class="n">Z</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">emisor</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">ruc</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0910000000001</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">obligado_contabilidad</span><span class="s">""</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
          <span class="s">""</span><span class="n">contribuyente_especial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">12345</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">nombre_comercial</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corp</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">XYZ</span> <span class="n">Corporaci</span><span class="err">ó</span><span class="n">n</span> <span class="n">S</span><span class="p">.</span><span class="n">A</span><span class="p">.</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">establecimiento</span><span class="s">""</span><span class="p">:{</span>
            <span class="s">""</span><span class="n">punto_emision</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">002</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">001</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Av</span><span class="p">.</span> <span class="n">Primera</span> <span class="m">234</span> <span class="n">y</span> <span class="n">calle</span> <span class="m">5</span><span class="n">ta</span><span class="s">""</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">moneda</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">USD</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">informacion_adicional</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">Tiempo</span> <span class="n">de</span> <span class="n">entrega</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">5</span> <span class="n">d</span><span class="err">í</span><span class="k">as</span><span class="s">""</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">totales</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">total_sin_impuestos</span><span class="s">""</span><span class="p">:</span><span class="m">4359.54</span><span class="p">,</span>
          <span class="s">""</span><span class="n">impuestos</span><span class="s">""</span><span class="p">:[</span>
            <span class="p">{</span>
              <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span><span class="p">,</span>
              <span class="s">""</span><span class="n">valor</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0</span><span class="s">""</span><span class="p">,</span>
              <span class="s">""</span><span class="n">tarifa</span><span class="s">""</span><span class="p">:</span> <span class="m">12.0</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span><span class="m">4359.54</span><span class="p">,</span>
              <span class="s">""</span><span class="n">valor</span><span class="s">""</span><span class="p">:</span><span class="m">523.14</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
              <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span>
            <span class="p">}</span>
          <span class="p">],</span>
          <span class="s">""</span><span class="n">total</span><span class="s">""</span><span class="p">:</span><span class="m">4882.68</span><span class="p">,</span>
          <span class="s">""</span><span class="n">propina</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span><span class="p">,</span>
          <span class="s">""</span><span class="n">descuento</span><span class="s">""</span><span class="p">:</span><span class="m">0.0</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">comprador</span><span class="s">""</span><span class="p">:{</span>
          <span class="s">""</span><span class="n">email</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">juan</span><span class="p">.</span><span class="n">perez@xyz</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">0987654321</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">tipo_identificacion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">05</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">razon_social</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Juan</span> <span class="n">P</span><span class="err">é</span><span class="n">rez</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">direccion</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">Calle</span> <span class="err">ú</span><span class="n">nica</span> <span class="n">Numero</span> <span class="m">987</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">telefono</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">046029400</span><span class="s">""</span>
        <span class="p">},</span>
        <span class="s">""</span><span class="n">items</span><span class="s">""</span><span class="p">:[</span>
          <span class="p">{</span>
            <span class="s">""</span><span class="n">cantidad</span><span class="s">""</span><span class="p">:</span><span class="m">622.0</span><span class="p">,</span>
            <span class="s">""</span><span class="n">codigo_principal</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="n">ZNC</span><span class="s">""</span>
            <span class="s">""</span><span class="n">codigo_auxiliar</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">050</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">precio_unitario</span><span class="s">""</span><span class="p">:</span> <span class="m">7.01</span><span class="p">,</span>
            <span class="s">""</span><span class="n">descripcion</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Zanahoria</span> <span class="n">granel</span>  <span class="m">50</span> <span class="n">Kg</span><span class="p">.</span><span class="s">""</span><span class="p">,</span>
            <span class="s">""</span><span class="n">precio_total_sin_impuestos</span><span class="s">""</span><span class="p">:</span> <span class="m">4360.22</span><span class="p">,</span>
            <span class="s">""</span><span class="n">impuestos</span><span class="s">""</span><span class="p">:</span> <span class="p">[</span>
              <span class="p">{</span>
                <span class="s">""</span><span class="n">base_imponible</span><span class="s">""</span><span class="p">:</span><span class="m">4359.54</span><span class="p">,</span>
                <span class="s">""</span><span class="n">valor</span><span class="s">""</span><span class="p">:</span><span class="m">523.14</span><span class="p">,</span>
                <span class="s">""</span><span class="n">tarifa</span><span class="s">""</span><span class="p">:</span><span class="m">12.0</span><span class="p">,</span>
                <span class="s">""</span><span class="n">codigo</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span><span class="p">,</span>
                <span class="s">""</span><span class="n">codigo_porcentaje</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">2</span><span class="s">""</span>
              <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">""</span><span class="n">detalles_adicionales</span><span class="s">""</span><span class="p">:</span> <span class="p">{</span>
              <span class="s">""</span><span class="n">Peso</span><span class="s">""</span><span class="p">:</span><span class="s">""</span><span class="m">5000.0000</span><span class="s">""</span>
            <span class="p">},</span>
            <span class="s">""</span><span class="n">descuento</span><span class="s">""</span><span class="p">:</span> <span class="m">0.0</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">}</span><span class="s">");
</span>
      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>A debit note requires the following information:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Debit number sequence number. <strong>Required</strong></td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a> object</td>
<td>Information about the issuer. <strong>Required</strong></td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Issuance date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (YYYY-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Environment type. Test <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br><strong>Required</strong></td>
</tr>
<tr>
<td>totales</td>
<td>list of <a href="#debit-note-total">debit note totals</a></td>
<td>List of debit note totals. <strong>Required</strong></td>
</tr>
<tr>
<td>fecha_emision_documento_modificado</td>
<td>string</td>
<td>Issuance date of the modified e-document in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (YYYY-MM-DDHourTimeZone). <strong>Required</strong></td>
</tr>
<tr>
<td>numero_documento_modificado</td>
<td>string</td>
<td>Complete document number of the e-document being modified. Normally invoices. Example: 001-002-010023098 <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_documento_modificado</td>
<td>string</td>
<td><a href="#document-types">document-type</a>. <strong>Required</strong></td>
</tr>
<tr>
<td>motivos</td>
<td>list of <a href="#debit-note-reason">debit-note-reason</a></td>
<td>Reason for the debit note. Example: Interest on an overdue loan. <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br><strong>Required</strong></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Defaults to the latest version.</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>The access code represents a unique identified for the document. Datil will generate an access code if you don&rsquo;t provide it.<br>¿How to <a href="#access-code">generate</a> an access code?</td>
</tr>
<tr>
<td>informacion_adicional</td>
<td>objeto</td>
<td>objeto</td>
</tr>
</tbody></table>

<h4 id="debit-note-totals">Debit note totals</h4>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>total_sin_impuestos</td>
<td>float</td>
<td>Total befor taxes. <strong>Required</strong></td>
</tr>
<tr>
<td>importe_total</td>
<td>float</td>
<td>Total including taxes. <strong>Required</strong></td>
</tr>
<tr>
<td>impuestos</td>
<td>list of <a href="#debit-note-tax">debit-note-tax</a> objects</td>
<td>Taxes applied to the amount of the debit note. <strong>Required</strong></td>
</tr>
</tbody></table>

<h4 id="debit-note-tax">Debit note tax</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>codigo</td>
<td>string</td>
<td><a href="#invoice-tax-types">tax-type</a> code.</td>
</tr>
<tr>
<td>codigo_porcentaje</td>
<td>string</td>
<td>Rate code.</td>
</tr>
<tr>
<td>base_imponible</td>
<td>float</td>
<td>Taxable amount.</td>
</tr>
<tr>
<td>valor</td>
<td>float</td>
<td>Total tax amount.</td>
</tr>
<tr>
<td>tarifa</td>
<td>float</td>
<td>Tax rate expressed as a number between 0.0 and 100.0.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdef09876123cea56784f01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="mi">148</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="s2">"2015-02-28T11:28:56.782Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2802201501091000000000120010010000100451993736618"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"emisor"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0910000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ Corp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ Corporación S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"moneda"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"Tiempo de entrega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5 días"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
    </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">523.14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">4882.68</span><span class="p">,</span><span class="w">
    </span><span class="nt">"propina"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"comprador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juan.perez@xyz.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0987654321"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Juan Pérez"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle única Numero 987"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"046029400"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="mf">622.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZNC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"050"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.01</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zanahoria granel  50 Kg."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="mf">4360.22</span><span class="p">,</span><span class="w">
      </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">523.14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Peso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000.0000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a <strong><a href="#debit-note-request">debit-note</a></strong> object that includes an <code class="prettyprint">id</code> parameter that uniquely identifies the invoice. A generated access code is included as <code class="prettyprint">clave_acceso</code>.</p>

<h2 id="querying-a-debit-note">Querying a debit note</h2>

<p>You can query the API for the status of a debit note and look for the <code class="prettyprint">estado</code> parameter. This will tell you if the e-document is authorized or not.</p>

<p>If you want to know the specific step the debit note is into the <a href="#issuance-process">issuance process</a>, look for value in <code class="prettyprint">envio_sri</code> and <code class="prettyprint">autorizacion_sri</code>.</p>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">GET /debit-notes/&lt;invoice-id&gt;</code></p>

<h3 id="request">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/debit-notes/&lt;id-notacredito&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-certificate-password&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/debit-notes/&lt;id-notacredito&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">idNotaCredito</span> <span class="p">=</span> <span class="s">"&lt;id-notacredito&gt;"</span><span class="p">;</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/"</span> <span class="p">+</span> <span class="n">idNotaCredito</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Replace <code class="prettyprint">&lt;invoice-ID&gt;</code> for the <code class="prettyprint">id</code> of the debit note you want to query.</p>

<h3 id="response">Response</h3>

<blockquote>
<h4 id="example-response">Example response</h4>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcf12343faad06785"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201501099271255400110011000000000162092727615"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"emisor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DATILMEDIA S.A."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V.E. 112 Y CIRCUNVALACION NORTE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"correos_enviados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"fecha_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:36:48.274604"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"destinatarios"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juanantonioplaza@datilmedia.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"guia_remision"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"moneda"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"propina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"168.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"comprador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos L. Plaza"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0900102222"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cplaza@gye593.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Uno y Calle Dos"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"043334445"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"envio_sri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIBIDA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Estadía"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 noches"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Habitación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HAB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Habitación doble"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"autorizacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identificador"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"mensaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ESTE PROCESO FUE REALIZADO EN EL AMBIENTE DE PRUEBAS"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFORMATIVO"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201516323509927125540010266935227"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:32:35.000380"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>credit note sequence number.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Possible values: <code class="prettyprint">AUTORIZADO</code> (authorized), <code class="prettyprint">NO AUTORIZADO</code> (not authorized), <code class="prettyprint">ENVIADO</code> (sent), <code class="prettyprint">DEVUELTO</code> (rejected), <code class="prettyprint">RECIBIDO</code> (received).</td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Issuance date in <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> format (AAAA-MM-DDHourTimeZone).</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>The access code represents a unique identified for the document. Datil will generate an access code if you don&rsquo;t provide it.<br>¿How to <a href="#access-code">generate</a> an access code?</td>
</tr>
<tr>
<td>envio_sri</td>
<td><a href="#sri-sending">sri-sending</a> object</td>
<td>Information about the sending step.</td>
</tr>
<tr>
<td>autorizacion</td>
<td><a href="#sri-authorization">sri-authorization</a> object</td>
<td>Information about the authorization step.</td>
</tr>
<tr>
<td>emisor</td>
<td><a href="#issuer">issuer</a></td>
<td>Information about the issuer.</td>
</tr>
<tr>
<td>moneda</td>
<td>string</td>
<td><a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> code of the currency.</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Environment: Test <code class="prettyprint">1</code>.<br>Production <code class="prettyprint">2</code>.<br></td>
</tr>
<tr>
<td>totales</td>
<td>list of <a href="#credit-note-totals">credit-note-total</a></td>
<td>List of credit note totals.</td>
</tr>
<tr>
<td>comprador</td>
<td><a href="#recipient">recipient</a> object</td>
<td>Information about the recipient.</td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Issuance mode. Normal: <code class="prettyprint">1</code>.<br>Contingency: <code class="prettyprint">2</code><br></td>
</tr>
<tr>
<td>items</td>
<td>list of <a href="#line-item">line-item</a> objects</td>
<td>Line items.</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Version of the country e-billing format. Valid values: <code class="prettyprint">1.0.0</code>, <code class="prettyprint">1.1.0</code></td>
</tr>
</tbody></table>

          <h1 id="access-code">Access Code</h1>

<p>To comply with the Ecuador tax authority, each e-document has a unique access code comprised of 49 numeric characters. Datil generates this code for you on each request.</p>

<p>In specific cases you may want to generate the access code yourself, here is how to construct it:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Format</th>
<th>Length</th>
</tr>
</thead><tbody>
<tr>
<td>Issuance date</td>
<td>ddmmyyyy</td>
<td>8</td>
</tr>
<tr>
<td>Document type</td>
<td>Table 4</td>
<td>2</td>
</tr>
<tr>
<td>Tax identification (RUC)</td>
<td>1234567890001</td>
<td>13</td>
</tr>
<tr>
<td>Environment type</td>
<td>Table 5</td>
<td>1</td>
</tr>
<tr>
<td>Series</td>
<td>001001</td>
<td>6</td>
</tr>
<tr>
<td>Sequencial document number</td>
<td>000000001</td>
<td>9</td>
</tr>
<tr>
<td>Numeric code</td>
<td>Numeric</td>
<td>8</td>
</tr>
<tr>
<td>Issuance mode</td>
<td>Table 2</td>
<td>1</td>
</tr>
<tr>
<td>Check digit (modulo 11 )</td>
<td>Numeric</td>
<td>1</td>
</tr>
</tbody></table>

<p><strong>Note:</strong> All fields must conform to the specified length. If the access code is malformed the e-document will not be authorized.</p>

<p>The check digit must be computed using all 48 characters of the access code and then incorporated into the code using modulo 11. Here is an <a href="https://es.wikipedia.org/wiki/C%C3%B3digo_de_control">example algorithm</a></p>

<h1 id="common-objects">Common objects</h1>

<h2 id="issuer">Issuer</h2>

<p>Information about the e-document issuer:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ruc</td>
<td>string</td>
<td>Tax identification (RUC). 13 characters long.</td>
</tr>
<tr>
<td>razon_social</td>
<td>string</td>
<td>Legal name. 300 characters limit.</td>
</tr>
<tr>
<td>nombre_comercial</td>
<td>string</td>
<td>Commercial name. 300 characters limit.</td>
</tr>
<tr>
<td>direccion</td>
<td>string</td>
<td>Address on record. 300 characters limit.</td>
</tr>
<tr>
<td>contribuyente_especial</td>
<td>string</td>
<td>Special contributor resolution number. Empty if you are not a special contributor.</td>
</tr>
<tr>
<td>obligado_contabilidad</td>
<td>boolean</td>
<td><code class="prettyprint">true</code> if you are required to do accounting.</td>
</tr>
<tr>
<td>establecimiento</td>
<td><a href="#location">location</a></td>
<td>Location issuing the e-document.</td>
</tr>
</tbody></table>

<h2 id="location">Location</h2>

<p>Describes an issuing location:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>codigo</td>
<td>string</td>
<td>Numeric identification code for the location. 3 characters long. Example: <code class="prettyprint">001</code>.</td>
</tr>
<tr>
<td>direccion</td>
<td>string</td>
<td>Address on record. 300 characters limit.</td>
</tr>
<tr>
<td>punto_emision</td>
<td>string</td>
<td>Numeric identification code for the point of sale. Example: <code class="prettyprint">001</code>.</td>
</tr>
</tbody></table>

<h2 id="recipient">Recipient</h2>

<p>Information about the e-document recipient. Used as <strong>comprador</strong> in invoices and credit notes, and <strong>sujeto</strong> in withholdings.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>razon_social</td>
<td>string</td>
<td>Legal name. 300 characters limit. <strong>Required</strong></td>
</tr>
<tr>
<td>identificacion</td>
<td>string</td>
<td>Tax identification. 5 to 20 characters. <strong>Required</strong></td>
</tr>
<tr>
<td>tipo_identificacion</td>
<td>string</td>
<td><a href="#identification-types">Identification type</a> code. <strong>Required</strong></td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email. 300 characters limite. <strong>Required</strong></td>
</tr>
<tr>
<td>telefono</td>
<td>string</td>
<td>Telephone.</td>
</tr>
<tr>
<td>direccion</td>
<td>string</td>
<td>Address</td>
</tr>
</tbody></table>

<h2 id="identification-types">Identification types</h2>

<table><thead>
<tr>
<th>Identification type</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>RUC</td>
<td><code class="prettyprint">04</code></td>
</tr>
<tr>
<td>CEDULA</td>
<td><code class="prettyprint">05</code></td>
</tr>
<tr>
<td>PASAPORTE</td>
<td><code class="prettyprint">06</code></td>
</tr>
<tr>
<td>VENTA A CONSUMIDOR FINAL*</td>
<td><code class="prettyprint">07</code></td>
</tr>
<tr>
<td>IDENTIFICACION DELEXTERIOR*</td>
<td><code class="prettyprint">08</code></td>
</tr>
<tr>
<td>PLACA</td>
<td><code class="prettyprint">09</code></td>
</tr>
</tbody></table>

<h2 id="total-tax">Total Tax</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>codigo</td>
<td>string</td>
<td><a href="#invoice-tax-types">tax type</a> code. <strong>Required</strong></td>
</tr>
<tr>
<td>codigo_porcentaje</td>
<td>string</td>
<td>Invoice rate code.</td>
</tr>
<tr>
<td>base_imponible</td>
<td>float</td>
<td>Taxable amount.</td>
</tr>
<tr>
<td>valor</td>
<td>float</td>
<td>Total tax amount.</td>
</tr>
</tbody></table>

<h2 id="tax-item">Tax item</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>codigo</td>
<td>string</td>
<td><a href="#invoice-tax-types">Tax type</a> code.</td>
</tr>
<tr>
<td>codigo_porcentaje</td>
<td>string</td>
<td>Invoice rate code.</td>
</tr>
<tr>
<td>base_imponible</td>
<td>float</td>
<td>Taxable amount.</td>
</tr>
<tr>
<td>valor</td>
<td>float</td>
<td>Total tax amount.</td>
</tr>
<tr>
<td>tarifa</td>
<td>float</td>
<td>Tax rate expresed as a number between 0.0 y 100.0</td>
</tr>
</tbody></table>

<h2 id="sri-sending">SRI sending</h2>

<p>Information about the sending step of the e-document.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mensajes</td>
<td>list of <a href="#sri-response-messages">SRI message</a> objects</td>
<td>List of messages.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Valid values: <code class="prettyprint">RECIBIDA</code>, <code class="prettyprint">DEVUELTA</code></td>
</tr>
<tr>
<td>fecha</td>
<td>string</td>
<td><a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> date when the e-document was sent (AAAA-MM-DDHourTimeZone).</td>
</tr>
</tbody></table>

<h2 id="sri-authorization">SRI authorization</h2>

<p>Information about the authorization step of the e-document.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mensajes</td>
<td>list of <a href="#sri-response-messages">SRI message</a> objects</td>
<td>List of messages.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Valid values: <code class="prettyprint">AUTORIZADO</code>, <code class="prettyprint">NO AUTORIZADO</code></td>
</tr>
<tr>
<td>numero</td>
<td>string</td>
<td>Authorization number.</td>
</tr>
<tr>
<td>fecha</td>
<td>string</td>
<td><a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a> date of the authorization (AAAA-MM-DDHourTimeZone).</td>
</tr>
</tbody></table>

<h2 id="sri-response-messages">SRI response messages</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>identificador</td>
<td>string</td>
<td>IRS message code.</td>
</tr>
<tr>
<td>mensaje</td>
<td>string</td>
<td>Description of the message.</td>
</tr>
<tr>
<td>tipo</td>
<td>string</td>
<td>Valid values: <code class="prettyprint">INFORMATIVO</code> (information), <code class="prettyprint">ADVERTENCIA</code> (warning), <code class="prettyprint">ERROR</code> (error).</td>
</tr>
<tr>
<td>informacion_adicional</td>
<td>string</td>
<td>Additional information.</td>
</tr>
</tbody></table>

<h2 id="line-item">Line item</h2>

<p>Describes a product or service.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>descripcion</td>
<td>string</td>
<td>Item description. <strong>Required</strong></td>
</tr>
<tr>
<td>codigo_principal</td>
<td>string</td>
<td>Stock keeping unit. Máximo 25 characters.</td>
</tr>
<tr>
<td>codigo_auxiliar</td>
<td>string</td>
<td>Additional stock keeping unit. Máximo 25 characters.</td>
</tr>
<tr>
<td>cantidad</td>
<td>float</td>
<td>Quantity. <strong>Required</strong></td>
</tr>
<tr>
<td>precio_unitario</td>
<td>float</td>
<td>Unit price. <strong>Required</strong></td>
</tr>
<tr>
<td>descuento</td>
<td>float</td>
<td>Unit discount.  <strong>Required</strong></td>
</tr>
<tr>
<td>precio_total_sin_impuestos</td>
<td>float</td>
<td>Price before taxes. It is the product of <code class="prettyprint">cantidad</code> and <code class="prettyprint">precio_unitario</code>.</td>
</tr>
<tr>
<td>impuestos</td>
<td>listado list of <a href="#tax-line-item">tax line item</a> objects</td>
<td>Taxes for the item. <strong>Required</strong></td>
</tr>
<tr>
<td>detalles_adicionales</td>
<td>object</td>
<td>Additional product information the dictionary format. Example:<br><code>{&quot;brand&quot;: &quot;Ferrari&quot;, &quot;chasis&quot;: &quot;UANEI832-NAU101&quot;}</code>. Limited to 3 key and value pairs.</td>
</tr>
</tbody></table>

<h2 id="invoice-withholdings">Invoice withholdings</h2>

<p>Withholdings to be included in the invoice. Specific case for traders or distributors of petroleum derivates and for presumptive VAT Retention for publishers, distributors and newsvendors involved in the marketing of newspapers and / or magazines.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>codigo</td>
<td>string</td>
<td><a href="#tax-types-for-invoice-withholdings">Tax type for invoice withholdings</a> code.  <strong>Required</strong></td>
</tr>
<tr>
<td>codigo_porcentaje</td>
<td>string</td>
<td><a href="#tax-rates-for-invoice-withholdings">Tax rate for invoice withholding</a> code. <strong>Required</strong></td>
</tr>
<tr>
<td>tarifa</td>
<td>float</td>
<td>Tax rate. 3 integers with 2 decimals limit.  <strong>Required</strong></td>
</tr>
<tr>
<td>valor</td>
<td>float</td>
<td>Tax amount. 12 integers with 2 decimals limit.  <strong>Required</strong></td>
</tr>
</tbody></table>

<h1 id="catalog">Catalog</h1>

<h2 id="invoice-tax-types">Invoice tax types</h2>

<table><thead>
<tr>
<th>Tax</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>IVA</td>
<td>2</td>
</tr>
<tr>
<td>ICE</td>
<td>3</td>
</tr>
<tr>
<td>IRBPNR</td>
<td>5</td>
</tr>
</tbody></table>

<h2 id="withholding-tax-types">Withholding tax types</h2>

<table><thead>
<tr>
<th>Tax</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>RENTA</td>
<td>1</td>
</tr>
<tr>
<td>IVA</td>
<td>2</td>
</tr>
<tr>
<td>ISD</td>
<td>6</td>
</tr>
</tbody></table>

<h2 id="tax-types-for-invoice-withholdings">Tax types for invoice withholdings</h2>

<p>Specific case for traders or distributors of petroleum derivates and for presumptive VAT Retention for publishers, distributors and newsvendors involved in the marketing of newspapers and / or magazines.</p>

<table><thead>
<tr>
<th>Tax</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>IVA PRESUNTIVO Y RENTA</td>
<td>4</td>
</tr>
</tbody></table>

<h2 id="iva-withholding">IVA withholding</h2>

<table><thead>
<tr>
<th>IVA rate</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>10%</td>
<td>9</td>
</tr>
<tr>
<td>20%</td>
<td>10</td>
</tr>
<tr>
<td>30%</td>
<td>1</td>
</tr>
<tr>
<td>70%</td>
<td>2</td>
</tr>
<tr>
<td>100%</td>
<td>3</td>
</tr>
</tbody></table>

<p><strong>Zero-amount withholding</strong></p>

<table><thead>
<tr>
<th>IVA rate</th>
<th>code</th>
</tr>
</thead><tbody>
<tr>
<td>0%</td>
<td>7</td>
</tr>
</tbody></table>

<p><strong>No withholding</strong></p>

<table><thead>
<tr>
<th>IVA rate</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>0%</td>
<td>8</td>
</tr>
</tbody></table>

<h2 id="isd-withholding">ISD withholding</h2>

<table><thead>
<tr>
<th>ISD rate</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>5%</td>
<td>4580</td>
</tr>
</tbody></table>

<h2 id="tax-rates-for-invoice-withholdings">Tax rates for Invoice Withholdings</h2>

<p>Specific case for traders or distributors of petroleum derivates and for presumptive VAT Retention for publishers, distributors and newsvendors involved in the marketing of newspapers and / or magazines.</p>

<p><strong>IVA withholding</strong></p>

<table><thead>
<tr>
<th>Presuntive IVA rate</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>100%</td>
<td>3</td>
</tr>
<tr>
<td>12%  (Editores a Margen de Comercialización Voceadores)</td>
<td>4</td>
</tr>
<tr>
<td>100% (Venta periódicos y/o Revistas a Distribuidores)</td>
<td>5</td>
</tr>
<tr>
<td>100% (Venta periódicos y/o Revistas a Voceadores)</td>
<td>6</td>
</tr>
</tbody></table>

<p><strong>Income withholding</strong></p>

<table><thead>
<tr>
<th>Income withholding rate</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>0.2%</td>
<td>327</td>
</tr>
<tr>
<td>0.3%</td>
<td>328</td>
</tr>
</tbody></table>

<h2 id="document-types">Document Types</h2>

<table><thead>
<tr>
<th>Document</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>Invoice</td>
<td>01</td>
</tr>
<tr>
<td>Credit note</td>
<td>04</td>
</tr>
<tr>
<td>Debit note</td>
<td>05</td>
</tr>
<tr>
<td>Waybill</td>
<td>06</td>
</tr>
<tr>
<td>Withholding</td>
<td>07</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>Our API will return this errors:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; The data provided is malformed or contains errors.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key was no authorized.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; Your API key is not allowed to access this resource.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The resource does not exist.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash;</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash;</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; Datil API system error.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; The service is temporarily unavailable, please try again later.</td>
</tr>
</tbody></table>

          <h1 id="notifications">Notifications</h1>

<p>Datil can send you a HTTP notification each time an e-document is issued. You can subscribe to this notifications by providing the URL where you want to receive the e-document data.</p>

<h2 id="subscription">Subscription</h2>

<h3 id="operation">Operation</h3>

<p><code class="prettyprint">POST /webhooks</code></p>

<h3 id="request">Request</h3>

<blockquote>
<h4 id="example-request">Example request</h4>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/webhooks <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;your-api-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;your-certificate-password&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "event_name": "receipt-issued",
  "webhook_url": "http://www.b2b.com/ereceipts/receive"
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;your-api-key&gt;'</span><span class="p">}</span>
<span class="n">suscripcion</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"event_name"</span><span class="p">:</span> <span class="s">"receipt-issued"</span><span class="p">,</span>
  <span class="s">"webhook_url"</span><span class="p">:</span> <span class="s">"http://www.b2b.com/ereceipts/receive"</span><span class="p">}</span>

<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/webhooks'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">suscripcion</span><span class="p">))</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="c1">// Este ejemplo utiliza RestSharp
</span>      <span class="c1">// Para instalar anda al menú: tools &gt; Library Package Manager &gt; Package Manager Console
</span>      <span class="c1">// copia y pega y presiona enter: Install-Package RestSharp
</span>
      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">idFactura</span> <span class="p">=</span> <span class="s">"&lt;id-factura&gt;"</span><span class="p">;</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/"</span> <span class="p">+</span> <span class="n">idFactura</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;your-api-key&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="err">@</span><span class="s">"{
</span>        <span class="s">""</span><span class="n">event_name</span><span class="s">""</span><span class="p">:</span> <span class="s">"receipt-issued"</span><span class="p">,</span>
        <span class="s">""</span><span class="n">webhook_url</span><span class="s">""</span><span class="p">:</span> <span class="s">"http://www.b2b.com/ereceipts/receive"</span>
      <span class="p">}</span><span class="s">");
</span>
      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event_name</td>
<td>string</td>
<td>Valid values: <code class="prettyprint">receipt-issued</code> o <code class="prettyprint">issue-error</code>. <strong>Requerido</strong></td>
</tr>
<tr>
<td>webhook_url</td>
<td>string</td>
<td>Your URL where notifications will be sent.  <strong>Requerido</strong></td>
</tr>
</tbody></table>

<p>The <code class="prettyprint">receipt-issued</code> event is emitted when the issuance process finalizes successfully. These are the possible end states:</p>

<ul>
<li>AUTORIZADO (authorized)</li>
<li>NO AUTORIZADO (not authorized)</li>
</ul>

<p>The <code class="prettyprint">issue-error</code> event is emitted when an error occurs in any of the issuance steps. These are the possible end states:</p>

<ul>
<li>CREADO (created)</li>
<li>DEVUELTO (returned)</li>
</ul>

<h2 id="events">Events</h2>

<p>For each event, you will receive a <em>POST</em> request including the e-document in JSON format at the URL you registered <code class="prettyprint">webhook_url</code>.</p>

<h3 id="authorized">Authorized</h3>

<p>An <em>Authorized</em> e-document has the following format:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="mi">1267</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="s2">"2015-12-04T19:28:56.782Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"emisor"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"ruc"</span><span class="p">:</span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="s2">"Datilmedia"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Datilmedia S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Kennedy Norte Av. Miguel H. Alcivar"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"establecimiento"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="s2">"002"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Calle A"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"clientes@datilmedia.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"guia_remision"</span><span class="p">:</span><span class="s2">"001-002-007654320"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tipo"</span><span class="p">:</span><span class="s2">"factura"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"moneda"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1ae2afaf6fed46dcabb14d424311e232"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"informacion_adicional"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"Tiempo de entrega"</span><span class="p">:</span><span class="s2">"5 días"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totales"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
    </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="mf">4882.68</span><span class="p">,</span><span class="w">
    </span><span class="nt">"propina"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"descuento"</span><span class="p">:</span><span class="mf">0.0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"comprador"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="s2">"0924447956001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="s2">"04"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Juan Antonio Plaza"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Calle única Numero: S/N"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="s2">"046015159"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"jplazaarguello@gmail.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="mf">7.01</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="s2">"CEMENTO ROCA 50 KG. (1) 40U C/PALET"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
      </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="mf">12.0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"detalles_adicionales"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"Peso"</span><span class="p">:</span><span class="s2">"5000.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Volumen"</span><span class="p">:</span><span class="s2">"1 Gl"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="mf">622.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="s2">"CTO2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descuento"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="s2">"CTO1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="s2">"0412201501099271255400110010020000012671994716611"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api-key"</span><span class="p">:</span><span class="s2">"abcxyz1234567890mnbvqwe321tyu653"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autorizacion"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"numero"</span><span class="p">:</span><span class="s2">"0412201516042509927125540010331009539"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fecha"</span><span class="p">:</span><span class="s2">"2015-12-04T16:04:25"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"estado"</span><span class="p">:</span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mensajes"</span><span class="p">:[</span><span class="w">

    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="not-authorized">Not authorized</h3>

<p>A <em>Not authorized</em> e-document has the following format:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="mi">1267</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="s2">"2015-12-04T19:28:56.782Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"emisor"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"ruc"</span><span class="p">:</span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="s2">"Datilmedia"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Datilmedia S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Kennedy Norte Av. Miguel H. Alcivar"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"establecimiento"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="s2">"002"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Calle A"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"clientes@datilmedia.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"guia_remision"</span><span class="p">:</span><span class="s2">"001-002-007654320"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tipo"</span><span class="p">:</span><span class="s2">"factura"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"moneda"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1ae2afaf6fed46dcabb14d424311e232"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"informacion_adicional"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"Tiempo de entrega"</span><span class="p">:</span><span class="s2">"5 días"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totales"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
    </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="mf">4882.68</span><span class="p">,</span><span class="w">
    </span><span class="nt">"propina"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"descuento"</span><span class="p">:</span><span class="mf">0.0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"comprador"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="s2">"0924447956001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="s2">"04"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Juan Antonio Plaza"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Calle única Numero: S/N"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="s2">"046015159"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"jplazaarguello@gmail.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="mf">7.01</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="s2">"CEMENTO ROCA 50 KG. (1) 40U C/PALET"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
      </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="mf">12.0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"detalles_adicionales"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"Peso"</span><span class="p">:</span><span class="s2">"5000.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Volumen"</span><span class="p">:</span><span class="s2">"1 Gl"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="mf">622.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="s2">"CTO2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descuento"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="s2">"CTO1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="s2">"0412201501099271255400110010020000012671994716611"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api-key"</span><span class="p">:</span><span class="s2">"abcxyz1234567890mnbvqwe321tyu653"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autorizacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2907201515283909927125540017656314390"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-28T19:28:56.782Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"identificador"</span><span class="p">:</span><span class="w"> </span><span class="mi">46</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mensaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUC NO EXISTE"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El RUC debe tener 13 dígitos."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ERROR"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="returned">Returned</h3>

<p>A <em>Returned</em> e-document has the following format:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="mi">1267</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="s2">"2015-12-04T19:28:56.782Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"emisor"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"ruc"</span><span class="p">:</span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="s2">"Datilmedia"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Datilmedia S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Kennedy Norte Av. Miguel H. Alcivar"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"establecimiento"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="s2">"002"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Calle A"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"clientes@datilmedia.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"guia_remision"</span><span class="p">:</span><span class="s2">"001-002-007654320"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tipo"</span><span class="p">:</span><span class="s2">"factura"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"moneda"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1ae2afaf6fed46dcabb14d424311e231"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"informacion_adicional"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"Tiempo de entrega"</span><span class="p">:</span><span class="s2">"5 días"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totales"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
    </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="mf">4882.68</span><span class="p">,</span><span class="w">
    </span><span class="nt">"propina"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"descuento"</span><span class="p">:</span><span class="mf">0.0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"comprador"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="s2">"0924447956001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="s2">"04"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Juan Antonio Plaza"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Calle única Numero: S/N"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="s2">"046015159"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"jplazaarguello@gmail.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="mf">7.01</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="s2">"CEMENTO ROCA 50 KG. (1) 40U C/PALET"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
      </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">4359.54</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">523.14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="mf">12.0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"detalles_adicionales"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"Peso"</span><span class="p">:</span><span class="s2">"5000.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Volumen"</span><span class="p">:</span><span class="s2">"1 Gl"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="mf">622.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="s2">"CTO2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descuento"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="s2">"CTO1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="s2">"0412201501099271255400110010020000012671994716611"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api-key"</span><span class="p">:</span><span class="s2">"abcxyz1234567890mnbvqwe321tyu653"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"envio_sri"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"estado"</span><span class="p">:</span><span class="s2">"DEVUELTA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mensajes"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"identificador"</span><span class="p">:</span><span class="s2">"35"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mensaje"</span><span class="p">:</span><span class="s2">"ARCHIVO NO CUMPLE ESTRUCTURA XML"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tipo"</span><span class="p">:</span><span class="s2">"ERROR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="s2">"Se encontró el siguiente error en la estructura del comprobante: cvc-minLength-valid: Value '' with length = '0' is not facet-valid with respect to minLength '1' for type '#AnonType_valordetAdicionaldetallesAdicionalesdetalledetallesfactura'."</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="signature-error">Signature error</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="mi">766</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firma"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"result"</span><span class="p">:</span><span class="s2">"bad"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="s2">"Clave de firma incorrecta, por favor inténtalo nuevamente."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="mi">400</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="s2">"2015-12-16T15:38:01-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"emisor"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"ruc"</span><span class="p">:</span><span class="s2">"1792478103001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="s2">"Dátil"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Datilmedia S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Guayaquil Ecuador"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"establecimiento"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="s2">"003"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Av. Primera 123 y Calle 2da, Guayas, Guayaquil."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"jplaza@datilmedia.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"tipo"</span><span class="p">:</span><span class="s2">"factura"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"moneda"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"9d30f85b12435a007ba1235e5007d123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"certificate-password"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totales"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">2274.11</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">272.89</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="mf">2547.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"propina"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"descuento"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"descuento_adicional"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"comprador"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"jplaza@datilmedia.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="s2">"0924392929"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="s2">"04"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="s2">"Juan Antonio Plaza"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"direccion"</span><span class="p">:</span><span class="s2">"Mall del Sol Piso 3, Guayaquil"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"telefono"</span><span class="p">:</span><span class="s2">"099999119"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="s2">"8806085980334"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="s2">"TELEVISORES LED 3D SAMSUNG UN55H6400AHXPA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valor"</span><span class="p">:</span><span class="mf">0.12</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="mf">12.0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"descuento"</span><span class="p">:</span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="s2">"8806085462113"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="s2">"LED 46 UN46F5500 SMART SAMSUNG"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="mf">1200.00</span><span class="p">,</span><span class="w">
      </span><span class="nt">"impuestos"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="mf">1200.00</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valor"</span><span class="p">:</span><span class="mi">144</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"descuento"</span><span class="p">:</span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="s2">"1612201501179247810300120010030987657662795494211"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"api-key"</span><span class="p">:</span><span class="s2">"1b123043215678b890ce7656780032ce"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="csharp">C#</a>
          </div>
      </div>
    </div>
  </body>
</html>
